<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Containers.SetConstructs</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Containers.SetConstructs</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Containers.SetInterface.html#"><span class="id" title="library">SetInterface</span></a> <a class="idref" href="Containers.SetAVLInstance.html#"><span class="id" title="library">SetAVLInstance</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Containers.SetFacts.html#"><span class="id" title="library">SetFacts</span></a> <a class="idref" href="Containers.SetProperties.html#"><span class="id" title="library">SetProperties</span></a>.<br/>

<br/>
<span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">All</span> <span class="id" title="keyword">Variables</span>.<br/>

<br/>
<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a>.<br/>

<br/>
</div>

<div class="doc">
This module provides a couple of common set constructions.  They
   are built with and for the AVL instance and are not parameterized
   by an FSet implementation. 
<div class="paragraph"> </div>

<a name="lab223"></a><h1 class="section">Mapping a function on a set</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="Mapping"><span class="id" title="section">Mapping</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">set_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">HA</span> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">A</span>, <span class="id" title="var">HB</span>: <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">B</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Mapping.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="Containers.SetConstructs.html#Mapping.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetConstructs.html#Mapping.B"><span class="id" title="variable">B</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#Mapping.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#Mapping.B"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#fold"><span class="id" title="method">fold</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">acc</span> ⇒ <a class="idref" href="Containers.SetInterface.html#add"><span class="id" title="method">add</span></a> (<a class="idref" href="Containers.SetConstructs.html#Mapping.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Containers.SetConstructs.html#acc"><span class="id" title="variable">acc</span></a>) <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetInterface.html#2473ece9ad576f5f81f39e22ff1054b7"><span class="id" title="notation">{}</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">f_m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#5bcff5fca4c3a87e683dd8ca07bab63f"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>) <a class="idref" href="Containers.SetConstructs.html#Mapping.f"><span class="id" title="variable">f</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="map_spec"><span class="id" title="lemma">map_spec</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">b</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="Containers.SetConstructs.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.SetConstructs.html#Mapping.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetProperties.html#fold_rec_weak"><span class="id" title="lemma">fold_rec_weak</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span> ⇒ <span class="id" title="keyword">∀</span> <span class="id" title="var">b</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Containers.SetConstructs.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.SetConstructs.html#Mapping.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">z</span> <span class="id" title="var">Hz</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; [<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> | <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>]; <span class="id" title="tactic">exact</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#empty_iff"><span class="id" title="lemma">empty_iff</span></a>; <span class="id" title="tactic">firstorder</span>; <span class="id" title="var">contradiction</span> (<a class="idref" href="Containers.SetInterface.html#empty_1"><span class="id" title="method">empty_1</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#add_iff"><span class="id" title="lemma">add_iff</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> <span class="id" title="var">Hz</span>]; <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#add_iff"><span class="id" title="lemma">add_iff</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> <span class="id" title="var">Hz</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#add_iff"><span class="id" title="lemma">add_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="Containers.SetConstructs.html#map"><span class="id" title="definition">map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetInterface.html#FSet_OrderedType"><span class="id" title="method">FSet_OrderedType</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="map_m"><span class="id" title="instance">map_m</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#5bcff5fca4c3a87e683dd8ca07bab63f"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>) <a class="idref" href="Containers.SetConstructs.html#map"><span class="id" title="definition">map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">H</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Containers.SetConstructs.html#map_spec"><span class="id" title="lemma">map_spec</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="map_1"><span class="id" title="lemma">map_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">a</span> <span class="id" title="var">s</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="Containers.SetConstructs.html#Mapping.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="Containers.SetConstructs.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#map_spec"><span class="id" title="lemma">map_spec</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="map_2"><span class="id" title="lemma">map_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">s</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="Containers.SetConstructs.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.SetConstructs.html#Mapping.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="map_iff"><span class="id" title="definition">map_iff</span></a> := <a class="idref" href="Containers.SetConstructs.html#map_spec"><span class="id" title="lemma">map_spec</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Containers.SetConstructs.html#Mapping"><span class="id" title="section">Mapping</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab224"></a><h1 class="section">Cartesian product</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="CartesianProduct"><span class="id" title="section">CartesianProduct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">set_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">HA</span> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">A</span>, <span class="id" title="var">HB</span>: <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">B</span>}.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#map_add"><span class="id" title="definition">map_add</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s'"><span class="id" title="variable">s'</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#a"><span class="id" title="variable">a</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.SetProperties.html#acc"><span class="id" title="variable">acc</span></a></span> extends <span class="inlinecode"><a class="idref" href="Containers.SetProperties.html#acc"><span class="id" title="variable">acc</span></a></span> with all the pairs <span class="inlinecode">(<a class="idref" href="Containers.OrderedType.html#a"><span class="id" title="variable">a</span></a>,</span> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#b"><span class="id" title="variable">b</span></a>)</span>
     where <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#b"><span class="id" title="variable">b</span></a></span> belongs to <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s'"><span class="id" title="variable">s'</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="map_add"><span class="id" title="definition">map_add</span></a> (<span class="id" title="var">s'</span> : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#CartesianProduct.B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="Containers.SetConstructs.html#CartesianProduct.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">acc</span> : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> (<a class="idref" href="Containers.SetConstructs.html#CartesianProduct.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Containers.SetConstructs.html#CartesianProduct.B"><span class="id" title="variable">B</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#fold"><span class="id" title="method">fold</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> <span class="id" title="var">acc</span> ⇒ <a class="idref" href="Containers.SetInterface.html#add"><span class="id" title="method">add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Containers.SetConstructs.html#acc"><span class="id" title="variable">acc</span></a>) <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="Containers.SetConstructs.html#acc"><span class="id" title="variable">acc</span></a>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s"><span class="id" title="variable">s</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s'"><span class="id" title="variable">s'</span></a></span> returns the cartesian product of <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s"><span class="id" title="variable">s</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s'"><span class="id" title="variable">s'</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="cart_prod"><span class="id" title="definition">cart_prod</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#CartesianProduct.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">s'</span> : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#CartesianProduct.B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> (<a class="idref" href="Containers.SetConstructs.html#CartesianProduct.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Containers.SetConstructs.html#CartesianProduct.B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#fold"><span class="id" title="method">fold</span></a> (<a class="idref" href="Containers.SetConstructs.html#map_add"><span class="id" title="definition">map_add</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>) <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetInterface.html#2473ece9ad576f5f81f39e22ff1054b7"><span class="id" title="notation">{}</span></a>.<br/>

<br/>
</div>

<div class="doc">
Specs for <span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#map_add"><span class="id" title="definition">map_add</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="map_add_spec"><span class="id" title="lemma">map_add_spec</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span> <span class="id" title="var">acc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.SetConstructs.html#map_add"><span class="id" title="definition">map_add</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Containers.SetConstructs.html#acc"><span class="id" title="variable">acc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.SetConstructs.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetProperties.html#fold_rec_weak"><span class="id" title="lemma">fold_rec_weak</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">svu</span> <span class="id" title="var">r</span> ⇒ <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.SetConstructs.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">acc</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Containers.SetConstructs.html#svu"><span class="id" title="variable">svu</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intuition</span>. <span class="id" title="var">contradiction</span> (<a class="idref" href="Containers.SetInterface.html#empty_1"><span class="id" title="method">empty_1</span></a> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">m</span> <span class="id" title="var">s</span> <span class="id" title="var">Hb</span> <span class="id" title="var">IH</span> [<span class="id" title="var">xa</span> <span class="id" title="var">xb</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#add_iff"><span class="id" title="lemma">add_iff</span></a>, <span class="id" title="var">IH</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#add_iff"><span class="id" title="lemma">add_iff</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetInterface.html#add_1"><span class="id" title="method">add_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="cart_prod_spec"><span class="id" title="lemma">cart_prod_spec</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetProperties.html#fold_rec_weak"><span class="id" title="lemma">fold_rec_weak</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">svu</span> <span class="id" title="var">r</span> ⇒ <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.SetConstructs.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> ) <a class="idref" href="Containers.SetConstructs.html#svu"><span class="id" title="variable">svu</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, !<span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="Containers.SetFacts.html#empty_iff"><span class="id" title="lemma">empty_iff</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">acc</span> <span class="id" title="var">svu</span> <span class="id" title="var">Ha</span> <span class="id" title="var">IH</span> [<span class="id" title="var">xa</span> <span class="id" title="var">xb</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#map_add_spec"><span class="id" title="lemma">map_add_spec</span></a>, <span class="id" title="var">IH</span>, <a class="idref" href="Containers.SetFacts.html#add_iff"><span class="id" title="lemma">add_iff</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Now that we have the specs, we hide the implementations. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="Containers.SetConstructs.html#map_add"><span class="id" title="definition">map_add</span></a> <a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetInterface.html#FSet_OrderedType"><span class="id" title="method">FSet_OrderedType</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a></span> is a morphism 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="cart_prod_m"><span class="id" title="instance">cart_prod_m</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#5bcff5fca4c3a87e683dd8ca07bab63f"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#5bcff5fca4c3a87e683dd8ca07bab63f"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>) <a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">Ht</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Containers.SetConstructs.html#cart_prod_spec"><span class="id" title="lemma">cart_prod_spec</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs</span>, <span class="id" title="var">Ht</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Properties of <span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a></span> in the FSetInterface style 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="cart_prod_1"><span class="id" title="lemma">cart_prod_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#cart_prod_spec"><span class="id" title="lemma">cart_prod_spec</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="cart_prod_2"><span class="id" title="lemma">cart_prod_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#cart_prod_spec"><span class="id" title="lemma">cart_prod_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="cart_prod_3"><span class="id" title="lemma">cart_prod_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#cart_prod_spec"><span class="id" title="lemma">cart_prod_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="cart_prod_iff"><span class="id" title="definition">cart_prod_iff</span></a> := <a class="idref" href="Containers.SetConstructs.html#cart_prod_spec"><span class="id" title="lemma">cart_prod_spec</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Containers.SetConstructs.html#CartesianProduct"><span class="id" title="section">CartesianProduct</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab225"></a><h1 class="section">Implementation of power sets</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="PowerSet"><span class="id" title="section">PowerSet</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">set_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">HA</span> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">A</span>}.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#add_one"><span class="id" title="definition">add_one</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.m"><span class="id" title="variable">m</span></a></span> takes a set of sets <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.m"><span class="id" title="variable">m</span></a></span> and adds <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> to
     all sets in <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.m"><span class="id" title="variable">m</span></a></span>, adding these new sets to <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.m"><span class="id" title="variable">m</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="add_one"><span class="id" title="definition">add_one</span></a> <span class="id" title="var">x</span> (<span class="id" title="var">m</span> : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> (<a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#PowerSet.A"><span class="id" title="variable">A</span></a>)) : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> (<a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#PowerSet.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#fold"><span class="id" title="method">fold</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">s</span> <span class="id" title="var">acc</span> ⇒ <a class="idref" href="Containers.SetInterface.html#add"><span class="id" title="method">add</span></a> <a class="idref" href="Containers.SetInterface.html#48786984171adcac62e1369099eeadf8"><span class="id" title="notation">{</span></a><a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Containers.SetInterface.html#48786984171adcac62e1369099eeadf8"><span class="id" title="notation">;</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Containers.SetInterface.html#48786984171adcac62e1369099eeadf8"><span class="id" title="notation">}</span></a> <a class="idref" href="Containers.SetConstructs.html#acc"><span class="id" title="variable">acc</span></a>) <a class="idref" href="Containers.SetConstructs.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.SetConstructs.html#m"><span class="id" title="variable">m</span></a>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#powerset"><span class="id" title="definition">powerset</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s"><span class="id" title="variable">s</span></a></span> returns the power set of <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s"><span class="id" title="variable">s</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="powerset"><span class="id" title="definition">powerset</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#PowerSet.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> (<a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#PowerSet.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#fold"><span class="id" title="method">fold</span></a> <a class="idref" href="Containers.SetConstructs.html#add_one"><span class="id" title="definition">add_one</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="Containers.SetInterface.html#singleton"><span class="id" title="method">singleton</span></a> <a class="idref" href="Containers.SetInterface.html#2473ece9ad576f5f81f39e22ff1054b7"><span class="id" title="notation">{}</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="Containers.SetInterface.html#Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetInterface.html#FSet_OrderedType"><span class="id" title="method">FSet_OrderedType</span></a>.<br/>

<br/>
</div>

<div class="doc">
Specs for <span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#add_one"><span class="id" title="definition">add_one</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#powerset"><span class="id" title="definition">powerset</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="add_one_spec"><span class="id" title="lemma">add_one_spec</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">s</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="Containers.SetConstructs.html#add_one"><span class="id" title="definition">add_one</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.SetConstructs.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetConstructs.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="Containers.SetConstructs.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetInterface.html#2499d7a52e1fca683823149ce53018f0"><span class="id" title="notation">[=]</span></a> <a class="idref" href="Containers.SetInterface.html#48786984171adcac62e1369099eeadf8"><span class="id" title="notation">{</span></a><a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Containers.SetInterface.html#48786984171adcac62e1369099eeadf8"><span class="id" title="notation">;</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="Containers.SetInterface.html#48786984171adcac62e1369099eeadf8"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetProperties.html#fold_rec_weak"><span class="id" title="lemma">fold_rec_weak</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">mvu</span> <span class="id" title="var">r</span> ⇒ <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetConstructs.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="Containers.SetConstructs.html#mvu"><span class="id" title="variable">mvu</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetInterface.html#2499d7a52e1fca683823149ce53018f0"><span class="id" title="notation">[=]</span></a> <a class="idref" href="Containers.SetInterface.html#48786984171adcac62e1369099eeadf8"><span class="id" title="notation">{</span></a><span class="id" title="var">x</span><a class="idref" href="Containers.SetInterface.html#48786984171adcac62e1369099eeadf8"><span class="id" title="notation">;</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="Containers.SetInterface.html#48786984171adcac62e1369099eeadf8"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">H0</span>, ?<span class="id" title="var">H</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> [<span class="id" title="var">Hz1</span> <span class="id" title="var">Hz2</span>]]; <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> [<span class="id" title="var">Hz1</span> <span class="id" title="var">Hz2</span>]]; <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> [<span class="id" title="var">abs</span> <span class="id" title="var">_</span>]]; <span class="id" title="var">contradiction</span> (<a class="idref" href="Containers.SetInterface.html#empty_1"><span class="id" title="method">empty_1</span></a> <span class="id" title="var">abs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span> <span class="id" title="var">mvu</span> <span class="id" title="var">Hx'</span> <span class="id" title="var">IH</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#add_iff"><span class="id" title="lemma">add_iff</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">s'</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetInterface.html#add_1"><span class="id" title="method">add_1</span></a> | <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>]; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> [<span class="id" title="var">Hz1</span> <span class="id" title="var">Hz2</span>]]; <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetInterface.html#add_2"><span class="id" title="method">add_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> [<span class="id" title="var">Hz1</span> <span class="id" title="var">Hz2</span>]]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#add_iff"><span class="id" title="lemma">add_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz1</span>; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">Hz2</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="powerset_spec"><span class="id" title="lemma">powerset_spec</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> (<a class="idref" href="Containers.SetConstructs.html#powerset"><span class="id" title="definition">powerset</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="Containers.SetInterface.html#a09b9f73c6cd1db960bc01de33abf895"><span class="id" title="notation">[&lt;=]</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetProperties.html#fold_rec_weak"><span class="id" title="lemma">fold_rec_weak</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">svu</span> <span class="id" title="var">r</span> ⇒ <span class="id" title="keyword">∀</span> <span class="id" title="var">s'</span>, <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="Containers.SetInterface.html#b723c435bc079ae71387851490af5372"><span class="id" title="notation">\</span></a><a class="idref" href="Containers.SetInterface.html#b723c435bc079ae71387851490af5372"><span class="id" title="notation">In</span></a> <a class="idref" href="Containers.SetConstructs.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="Containers.SetInterface.html#a09b9f73c6cd1db960bc01de33abf895"><span class="id" title="notation">[&lt;=]</span></a> <a class="idref" href="Containers.SetConstructs.html#svu"><span class="id" title="variable">svu</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#singleton_iff"><span class="id" title="lemma">singleton_iff</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">refine</span> (<a class="idref" href="Containers.SetProperties.html#empty_is_empty_1"><span class="id" title="lemma">empty_is_empty_1</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>; <span class="id" title="var">contradiction</span> (<a class="idref" href="Containers.SetInterface.html#empty_1"><span class="id" title="method">empty_1</span></a> (<span class="id" title="var">H</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">svu</span> <span class="id" title="var">Hx</span> <span class="id" title="var">IH</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#add_one_spec"><span class="id" title="lemma">add_one_spec</span></a>, <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span> ⇒ <a class="idref" href="Containers.SetInterface.html#add_2"><span class="id" title="method">add_2</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">H</span> <a class="idref" href="Containers.SetConstructs.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="Containers.SetConstructs.html#Hz"><span class="id" title="variable">Hz</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> [<span class="id" title="var">Hz1</span> <span class="id" title="var">Hz2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hz2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hz1</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.SetFacts.html#subset_dec"><span class="id" title="lemma">subset_dec</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">svu</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsub</span>|<span class="id" title="var">Hnsub</span>]; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="Containers.SetInterface.html#remove"><span class="id" title="method">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#remove_iff"><span class="id" title="lemma">remove_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hz'</span> := <span class="id" title="var">H</span> <span class="id" title="var">z</span> <span class="id" title="var">H0</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#add_iff"><span class="id" title="lemma">add_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> (<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetProperties.html#add_remove"><span class="id" title="lemma">add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.SetProperties.html#In_dec"><span class="id" title="lemma">In_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">Hnsub</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hz'</span> := <span class="id" title="var">H</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#add_iff"><span class="id" title="lemma">add_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>; <span class="id" title="var">contradiction</span> (<span class="id" title="var">n</span> <span class="id" title="var">Hz</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Now that we have the specs, we hide the implementations. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="Containers.SetConstructs.html#add_one"><span class="id" title="definition">add_one</span></a> <a class="idref" href="Containers.SetConstructs.html#powerset"><span class="id" title="definition">powerset</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#powerset"><span class="id" title="definition">powerset</span></a></span> is a morphism 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="powerset_m"><span class="id" title="instance">powerset_m</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#5bcff5fca4c3a87e683dd8ca07bab63f"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>) <a class="idref" href="Containers.SetConstructs.html#powerset"><span class="id" title="definition">powerset</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">H</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Containers.SetConstructs.html#powerset_spec"><span class="id" title="lemma">powerset_spec</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Properties of <span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#powerset"><span class="id" title="definition">powerset</span></a></span> in the FSetInterface style 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="powerset_1"><span class="id" title="lemma">powerset_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="Containers.SetInterface.html#a09b9f73c6cd1db960bc01de33abf895"><span class="id" title="notation">[&lt;=]</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> (<a class="idref" href="Containers.SetConstructs.html#powerset"><span class="id" title="definition">powerset</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#powerset_spec"><span class="id" title="lemma">powerset_spec</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="powerset_2"><span class="id" title="lemma">powerset_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> (<a class="idref" href="Containers.SetConstructs.html#powerset"><span class="id" title="definition">powerset</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="Containers.SetInterface.html#a09b9f73c6cd1db960bc01de33abf895"><span class="id" title="notation">[&lt;=]</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#powerset_spec"><span class="id" title="lemma">powerset_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="powerset_iff"><span class="id" title="definition">powerset_iff</span></a> := <a class="idref" href="Containers.SetConstructs.html#powerset_spec"><span class="id" title="lemma">powerset_spec</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Containers.SetConstructs.html#PowerSet"><span class="id" title="section">PowerSet</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab226"></a><h1 class="section">Diagonal product</h1>


<div class="paragraph"> </div>

   We call diagonal product of a set <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s"><span class="id" title="variable">s</span></a></span> the sets of all strictly
   ordered pairs of elements of <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s"><span class="id" title="variable">s</span></a></span>, ie. unlike the cartesian product
   <span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#cart_prod"><span class="id" title="definition">cart_prod</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s"><span class="id" title="variable">s</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s"><span class="id" title="variable">s</span></a></span>, any pair of different elements <span class="inlinecode">(<a class="idref" href="Containers.OrderedType.html#a"><span class="id" title="variable">a</span></a>,</span> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#b"><span class="id" title="variable">b</span></a>)</span> is only
   present once (as <span class="inlinecode">(<a class="idref" href="Containers.OrderedType.html#a"><span class="id" title="variable">a</span></a>,</span> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#b"><span class="id" title="variable">b</span></a>)</span> if <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#a"><span class="id" title="variable">a</span></a></span> <span class="inlinecode">&lt;&lt;&lt;</span> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#b"><span class="id" title="variable">b</span></a></span> and <span class="inlinecode">(<a class="idref" href="Containers.OrderedTypeEx.html#b"><span class="id" title="variable">b</span></a>,</span> <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#a"><span class="id" title="variable">a</span></a>)</span> otherwise).
   It does not contain pairs of the form <span class="inlinecode">(<a class="idref" href="Containers.OrderedType.html#a"><span class="id" title="variable">a</span></a>,</span> <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#a"><span class="id" title="variable">a</span></a>)</span> either.
   
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="DiagonalProduct"><span class="id" title="section">DiagonalProduct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">set_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">HA</span> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">A</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.funind.Recdef.html#"><span class="id" title="library">Recdef</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">diag_prod</span> (<span class="id" title="var">s</span> : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#DiagonalProduct.A"><span class="id" title="variable">A</span></a>) {<span class="id" title="keyword">measure</span> <a class="idref" href="Containers.SetInterface.html#cardinal"><span class="id" title="method">cardinal</span></a>} : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> (<a class="idref" href="Containers.SetConstructs.html#DiagonalProduct.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Containers.SetConstructs.html#DiagonalProduct.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.SetInterface.html#min_elt"><span class="id" title="method">min_elt</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Containers.SetInterface.html#2473ece9ad576f5f81f39e22ff1054b7"><span class="id" title="notation">{}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">s'</span> := <a class="idref" href="Containers.SetInterface.html#remove"><span class="id" title="method">remove</span></a> <span class="id" title="var">x</span> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetConstructs.html#map_add"><span class="id" title="definition">map_add</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <span class="id" title="var">x</span> (<a class="idref" href="Containers.SetConstructs.html#diag_prod"><span class="id" title="definition">diag_prod</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.SetProperties.html#remove_cardinal_1"><span class="id" title="lemma">remove_cardinal_1</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="Containers.SetInterface.html#min_elt_1"><span class="id" title="method">min_elt_1</span></a> <span class="id" title="var">teq</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="Containers.SetConstructs.html#diag_prod"><span class="id" title="lemma">diag_prod</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="diag_prod_spec"><span class="id" title="lemma">diag_prod_spec</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.SetConstructs.html#diag_prod"><span class="id" title="lemma">diag_prod</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">)</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetConstructs.html#diag_prod_ind"><span class="id" title="definition">diag_prod_ind</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span> ⇒ <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.SetConstructs.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">clear</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs'</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetInterface.html#min_elt_3"><span class="id" title="method">min_elt_3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.SetProperties.html#empty_is_empty_1"><span class="id" title="lemma">empty_is_empty_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">Hs'</span>, !<a class="idref" href="Containers.SetFacts.html#empty_iff"><span class="id" title="lemma">empty_iff</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span> <span class="id" title="var">s'</span> <span class="id" title="var">IH</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#map_add_spec"><span class="id" title="lemma">map_add_spec</span></a>, <span class="id" title="var">IH</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.SetFacts.html#min_elt_dec"><span class="id" title="lemma">min_elt_dec</span></a> <span class="id" title="var">s</span>); <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">s'</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="Containers.SetFacts.html#remove_iff"><span class="id" title="lemma">remove_iff</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">transitivity</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> (<span class="id" title="var">Hmin</span> <span class="id" title="var">b</span> <span class="id" title="var">H0</span>); <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#eq_dec"><span class="id" title="lemma">eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span>); [<span class="id" title="tactic">right</span> | <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>; <span class="id" title="tactic">exact</span> (<a class="idref" href="Containers.OrderedType.html#lt_not_eq"><span class="id" title="lemma">lt_not_eq</span></a> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">abs</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hmin</span> <span class="id" title="var">a</span> <span class="id" title="var">H0</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">abs</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="Containers.SetInterface.html#Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetInterface.html#FSet_OrderedType"><span class="id" title="method">FSet_OrderedType</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#diag_prod"><span class="id" title="definition">diag_prod</span></a></span> is a morphism 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="diag_prod_m"><span class="id" title="instance">diag_prod_m</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#5bcff5fca4c3a87e683dd8ca07bab63f"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>) <a class="idref" href="Containers.SetConstructs.html#diag_prod"><span class="id" title="lemma">diag_prod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">H</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Containers.SetConstructs.html#diag_prod_spec"><span class="id" title="lemma">diag_prod_spec</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Properties of <span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#diag_prod"><span class="id" title="definition">diag_prod</span></a></span> in the FSetInterface style 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="diag_prod_1"><span class="id" title="lemma">diag_prod_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.SetConstructs.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetConstructs.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.SetConstructs.html#diag_prod"><span class="id" title="lemma">diag_prod</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#diag_prod_spec"><span class="id" title="lemma">diag_prod_spec</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="diag_prod_2"><span class="id" title="lemma">diag_prod_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetConstructs.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.SetConstructs.html#diag_prod"><span class="id" title="lemma">diag_prod</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#diag_prod_spec"><span class="id" title="lemma">diag_prod_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="diag_prod_3"><span class="id" title="lemma">diag_prod_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetConstructs.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.SetConstructs.html#diag_prod"><span class="id" title="lemma">diag_prod</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#diag_prod_spec"><span class="id" title="lemma">diag_prod_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="diag_prod_4"><span class="id" title="lemma">diag_prod_4</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.SetConstructs.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.SetConstructs.html#diag_prod"><span class="id" title="lemma">diag_prod</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.SetConstructs.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#diag_prod_spec"><span class="id" title="lemma">diag_prod_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="diag_prod_iff"><span class="id" title="definition">diag_prod_iff</span></a> := <a class="idref" href="Containers.SetConstructs.html#diag_prod_spec"><span class="id" title="lemma">diag_prod_spec</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Containers.SetConstructs.html#DiagonalProduct"><span class="id" title="section">DiagonalProduct</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab227"></a><h1 class="section">Disjoint union</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="DisjointUnion"><span class="id" title="section">DisjointUnion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">set_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">HA</span> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">A</span>, <span class="id" title="var">HB</span>: <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">B</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="disj_union"><span class="id" title="definition">disj_union</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#DisjointUnion.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">s'</span> : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Containers.SetConstructs.html#DisjointUnion.B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> (<a class="idref" href="Containers.SetConstructs.html#DisjointUnion.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#3dcaec3b772747610227247939f96b01"><span class="id" title="notation">+</span></a> <a class="idref" href="Containers.SetConstructs.html#DisjointUnion.B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.SetInterface.html#union"><span class="id" title="method">union</span></a> (<a class="idref" href="Containers.SetConstructs.html#map"><span class="id" title="definition">map</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Containers.SetConstructs.html#DisjointUnion.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Containers.SetConstructs.html#DisjointUnion.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a>) (<a class="idref" href="Containers.SetConstructs.html#map"><span class="id" title="definition">map</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Containers.SetConstructs.html#DisjointUnion.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Containers.SetConstructs.html#DisjointUnion.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="disj_union_spec"><span class="id" title="lemma">disj_union_spec</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">x</span> : <a class="idref" href="Containers.SetConstructs.html#DisjointUnion.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#3dcaec3b772747610227247939f96b01"><span class="id" title="notation">+</span></a> <a class="idref" href="Containers.SetConstructs.html#DisjointUnion.B"><span class="id" title="variable">B</span></a>), <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.SetConstructs.html#disj_union"><span class="id" title="definition">disj_union</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <span class="id" title="var">a</span> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <span class="id" title="var">b</span> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.SetConstructs.html#disj_union"><span class="id" title="definition">disj_union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetFacts.html#union_iff"><span class="id" title="lemma">union_iff</span></a>, 2<a class="idref" href="Containers.SetConstructs.html#map_iff"><span class="id" title="definition">map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span>|<span class="id" title="var">b</span>]; <span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="var">Tactics.tconstructor</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="var">Tactics.tconstructor</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="Containers.SetConstructs.html#disj_union"><span class="id" title="definition">disj_union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="Containers.SetInterface.html#Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetInterface.html#FSet_OrderedType"><span class="id" title="method">FSet_OrderedType</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="disj_union_m"><span class="id" title="instance">disj_union_m</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#5bcff5fca4c3a87e683dd8ca07bab63f"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Morphisms.html#5bcff5fca4c3a87e683dd8ca07bab63f"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>) <a class="idref" href="Containers.SetConstructs.html#disj_union"><span class="id" title="definition">disj_union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Containers.SetConstructs.html#disj_union_spec"><span class="id" title="lemma">disj_union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>]; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="disj_union_1"><span class="id" title="lemma">disj_union_1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">_</span> <a class="idref" href="Containers.SetConstructs.html#a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="Containers.SetConstructs.html#disj_union"><span class="id" title="definition">disj_union</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#disj_union_spec"><span class="id" title="lemma">disj_union_spec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="disj_union_2"><span class="id" title="lemma">disj_union_2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">b</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">_</span> <a class="idref" href="Containers.SetConstructs.html#b"><span class="id" title="variable">b</span></a>) (<a class="idref" href="Containers.SetConstructs.html#disj_union"><span class="id" title="definition">disj_union</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#disj_union_spec"><span class="id" title="lemma">disj_union_spec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="disj_union_3"><span class="id" title="lemma">disj_union_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.SetConstructs.html#disj_union"><span class="id" title="definition">disj_union</span></a> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.SetConstructs.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <span class="id" title="var">a</span> <a class="idref" href="Containers.SetConstructs.html#s"><span class="id" title="variable">s</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="Containers.SetInterface.html#In"><span class="id" title="method">In</span></a> <span class="id" title="var">b</span> <a class="idref" href="Containers.SetConstructs.html#s'"><span class="id" title="variable">s'</span></a> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.SetConstructs.html#disj_union_spec"><span class="id" title="lemma">disj_union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="disj_union_iff"><span class="id" title="definition">disj_union_iff</span></a> := <a class="idref" href="Containers.SetConstructs.html#disj_union_spec"><span class="id" title="lemma">disj_union_spec</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Containers.SetConstructs.html#DisjointUnion"><span class="id" title="section">DisjointUnion</span></a>.<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="indexpage.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>