<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Containers.MapAVL</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Containers.MapAVL</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.funind.FunInd.html#"><span class="id" title="library">FunInd</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Containers.MapList.html#"><span class="id" title="library">MapList</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="Containers.OrderedTypeEx.html#"><span class="id" title="library">OrderedTypeEx</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Containers.MapInterface.html#"><span class="id" title="library">MapInterface</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.funind.FunInd.html#"><span class="id" title="library">FunInd</span></a>.<br/>

<br/>
</div>

<div class="doc">
This file corresponds to <span class="inlinecode"><span class="id" title="var">FMapAVL.v</span></span> in the standard library
   and implements finite maps as AVL trees. The corresponding
   <span class="inlinecode"><a class="idref" href="Containers.MapInterface.html#FMap"><span class="id" title="record">FMap</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.MapInterface.html#FMapSpecs"><span class="id" title="record">FMapSpecs</span></a></span> instances are defined in
   the file <span class="inlinecode"><span class="id" title="var">MapAVLInstance.v</span></span>.
   
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">All</span> <span class="id" title="keyword">Variables</span>.<br/>

<br/>
</div>

<div class="doc">
Notations and helper lemma about pairs 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a name="958089bbde3710709508243fb6154391"><span class="id" title="notation">&quot;</span></a>s #1" := (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">s</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">format</span> "s '#1'") : <span class="id" title="var">pair_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">&quot;</span></a>s #2" := (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">s</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">format</span> "s '#2'") : <span class="id" title="var">pair_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab164"></a><h1 class="section">The Raw functor</h1>


<div class="paragraph"> </div>

   Functor of pure functions + separate proofs of invariant
   preservation 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a name="MapAVL"><span class="id" title="module">MapAVL</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">pair_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">lazy_bool_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="MapAVL.int"><span class="id" title="abbreviation">int</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Key"><span class="id" title="section">Key</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">key_OT</span> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">key</span>}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab165"></a><h1 class="section">Trees</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Key.Elt"><span class="id" title="section">Elt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a> : <span class="id" title="keyword">Type</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab166"></a><h1 class="section">Trees</h1>

       The fifth field of <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.Node"><span class="id" title="constructor">Node</span></a></span> is the height of the tree 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="MapAVL.tree"><span class="id" title="inductive">tree</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> : <a class="idref" href="Containers.MapAVL.html#tree"><span class="id" title="inductive">tree</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.Node"><span class="id" title="constructor">Node</span></a> : <a class="idref" href="Containers.MapAVL.html#tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.int"><span class="id" title="abbreviation">int</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#tree"><span class="id" title="inductive">tree</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="MapAVL.t"><span class="id" title="abbreviation">t</span></a> := <a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab167"></a><h1 class="section">Basic functions on trees: height and cardinal</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.height"><span class="id" title="definition">height</span></a> (<span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a>) : <a class="idref" href="Containers.MapAVL.html#MapAVL.int"><span class="id" title="abbreviation">int</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> ⇒ <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.cardinal"><span class="id" title="definition">cardinal</span></a> (<span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ 0%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Containers.MapAVL.html#cardinal"><span class="id" title="definition">cardinal</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="Containers.MapAVL.html#cardinal"><span class="id" title="definition">cardinal</span></a> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab168"></a><h1 class="section">Empty Map</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.empty"><span class="id" title="definition">empty</span></a> := <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab169"></a><h1 class="section">Emptyness test</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.is_empty"><span class="id" title="definition">is_empty</span></a> <span class="id" title="var">m</span> := <span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab170"></a><h1 class="section">Appartness</h1>

<div class="paragraph"> </div>

 The <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.mem"><span class="id" title="definition">mem</span></a></span> function is deciding appartness.
       It exploits the <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a></span> property to achieve logarithmic complexity. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.mem"><span class="id" title="definition">mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">mem_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">mem</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">find_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">find</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab171"></a><h1 class="section">Helper functions</h1>

<div class="paragraph"> </div>

 <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#r"><span class="id" title="variable">r</span></a></span> creates a node, assuming <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#l"><span class="id" title="variable">l</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#r"><span class="id" title="variable">r</span></a></span>
       to be balanced and <span class="inlinecode">|<a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode">-</span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#r"><span class="id" title="variable">r</span></a>|</span> <span class="inlinecode">≤</span> <span class="inlinecode">2</span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.create"><span class="id" title="definition">create</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.BinInt.html#Zmax"><span class="id" title="abbreviation">Zmax</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> 1).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.e"><span class="id" title="variable">e</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#r"><span class="id" title="variable">r</span></a></span> acts as <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a></span>, but performs one step of
       rebalancing if necessary, i.e. assumes <span class="inlinecode">|<a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode">-</span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#r"><span class="id" title="variable">r</span></a>|</span> <span class="inlinecode">≤</span> <span class="inlinecode">3</span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.assert_false"><span class="id" title="definition">assert_false</span></a> := <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">hl</span> := <a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">hr</span> := <a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.ZArith_dec.html#Z_gt_le_dec"><span class="id" title="definition">Z_gt_le_dec</span></a> <a class="idref" href="Containers.MapAVL.html#hl"><span class="id" title="variable">hl</span></a> (<a class="idref" href="Containers.MapAVL.html#hr"><span class="id" title="variable">hr</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>2) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.assert_false"><span class="id" title="definition">assert_false</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> <span class="id" title="var">lr</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.ZArith_dec.html#Z_ge_lt_dec"><span class="id" title="definition">Z_ge_lt_dec</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a> <span class="id" title="var">ll</span>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a> <span class="id" title="var">lr</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <span class="id" title="var">lr</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lr</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.assert_false"><span class="id" title="definition">assert_false</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">lrl</span> <span class="id" title="var">lrx</span> <span class="id" title="var">lrd</span> <span class="id" title="var">lrr</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> <span class="id" title="var">lrl</span>) <span class="id" title="var">lrx</span> <span class="id" title="var">lrd</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <span class="id" title="var">lrr</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.ZArith_dec.html#Z_gt_le_dec"><span class="id" title="definition">Z_gt_le_dec</span></a> <a class="idref" href="Containers.MapAVL.html#hr"><span class="id" title="variable">hr</span></a> (<a class="idref" href="Containers.MapAVL.html#hl"><span class="id" title="variable">hl</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>2) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.assert_false"><span class="id" title="definition">assert_false</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">rl</span> <span class="id" title="var">rx</span> <span class="id" title="var">rd</span> <span class="id" title="var">rr</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.ZArith_dec.html#Z_ge_lt_dec"><span class="id" title="definition">Z_ge_lt_dec</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a> <span class="id" title="var">rr</span>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a> <span class="id" title="var">rl</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="var">rl</span>) <span class="id" title="var">rx</span> <span class="id" title="var">rd</span> <span class="id" title="var">rr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rl</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.assert_false"><span class="id" title="definition">assert_false</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">rll</span> <span class="id" title="var">rlx</span> <span class="id" title="var">rld</span> <span class="id" title="var">rlr</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="var">rll</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rlx</span> <span class="id" title="var">rld</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <span class="id" title="var">rlr</span> <span class="id" title="var">rx</span> <span class="id" title="var">rd</span> <span class="id" title="var">rr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">bal_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">bal</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab172"></a><h1 class="section">Insertion</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.add"><span class="id" title="definition">add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">m</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> (<a class="idref" href="Containers.MapAVL.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="var">r</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> (<a class="idref" href="Containers.MapAVL.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">add_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">add</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab173"></a><h1 class="section">Insertion with combining functions : naive and efficient versions</h1>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> (<a class="idref" href="Containers.MapAVL.html#insert0"><span class="id" title="definition">insert0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">d'</span>) <span class="id" title="var">r</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> (<a class="idref" href="Containers.MapAVL.html#insert0"><span class="id" title="definition">insert0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">insert0_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">insert0</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
The function above always rebalances the true, but this is only
       necessary if the default is used somewhere. This next version does
       just that and is equivalent to <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.adjust"><span class="id" title="definition">adjust</span></a></span> if the key <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> was already
       in the tree. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.insert_aux"><span class="id" title="definition">insert_aux</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#insert_aux"><span class="id" title="definition">insert_aux</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">newl</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">newl</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">newl</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">newl</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">d'</span>) <span class="id" title="var">r</span> <span class="id" title="var">h</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#insert_aux"><span class="id" title="definition">insert_aux</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">newr</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">newr</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">newr</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">newr</span> <span class="id" title="var">h</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.insert"><span class="id" title="definition">insert</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert_aux"><span class="id" title="definition">insert_aux</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">insert_aux_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">insert_aux</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab174"></a><h1 class="section">Adjusting existing mappings</h1>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.adjust"><span class="id" title="definition">adjust</span></a> <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> (<a class="idref" href="Containers.MapAVL.html#adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">y</span> <span class="id" title="var">d'</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">d'</span>) <span class="id" title="var">r</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d'</span> (<a class="idref" href="Containers.MapAVL.html#adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span>) <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">adjust_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">adjust</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab175"></a><h1 class="section">Extraction of minimum binding</h1>


<div class="paragraph"> </div>

       Morally, <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a></span> is to be applied to a non-empty tree
       <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.t"><span class="id" title="definition">t</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.Node"><span class="id" title="constructor">Node</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.e"><span class="id" title="variable">e</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#r"><span class="id" title="variable">r</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#h"><span class="id" title="variable">h</span></a></span>. Since we can't deal here with <span class="inlinecode"><span class="id" title="tactic">assert</span></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a></span>
       for <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.t"><span class="id" title="definition">t</span></a>=<a class="idref" href="Containers.CMapPositive.html#CPositiveMap.Leaf"><span class="id" title="constructor">Leaf</span></a></span>, we pre-unpack <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.t"><span class="id" title="definition">t</span></a></span> (and forget about <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#h"><span class="id" title="variable">h</span></a></span>).
       
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">*(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,(</span></a><a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> <span class="id" title="var">lr</span> <span class="id" title="var">lh</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">l'</span>,<span class="id" title="var">m</span>) := <a class="idref" href="Containers.MapAVL.html#remove_min"><span class="id" title="definition">remove_min</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> <span class="id" title="var">lr</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <a class="idref" href="Containers.MapAVL.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">remove_min_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">remove_min</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab176"></a><h1 class="section">Merging two trees</h1>


<div class="paragraph"> </div>

       <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.merge"><span class="id" title="definition">merge</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#t1"><span class="id" title="variable">t1</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#t2"><span class="id" title="variable">t2</span></a></span> builds the union of <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#t1"><span class="id" title="variable">t1</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#t2"><span class="id" title="variable">t2</span></a></span> assuming all elements
       of <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#t1"><span class="id" title="variable">t1</span></a></span> to be smaller than all elements of <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#t2"><span class="id" title="variable">t2</span></a></span>, and
       <span class="inlinecode">|<a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#t1"><span class="id" title="variable">t1</span></a></span> <span class="inlinecode">-</span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#t2"><span class="id" title="variable">t2</span></a>|</span> <span class="inlinecode">≤</span> <span class="inlinecode">2</span>.
       
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.merge"><span class="id" title="definition">merge</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#s1"><span class="id" title="variable">s1</span></a>,<a class="idref" href="Containers.MapAVL.html#s2"><span class="id" title="variable">s2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="Containers.MapAVL.html#s2"><span class="id" title="variable">s2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#s1"><span class="id" title="variable">s1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="var">h2</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">s2'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">))</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <a class="idref" href="Containers.MapAVL.html#s1"><span class="id" title="variable">s1</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">s2'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">merge_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">merge</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab177"></a><h1 class="section">Deletion</h1>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.remove"><span class="id" title="definition">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> (<a class="idref" href="Containers.MapAVL.html#remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.merge"><span class="id" title="definition">merge</span></a> <span class="id" title="var">l</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> (<a class="idref" href="Containers.MapAVL.html#remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">remove_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">remove</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab178"></a><h1 class="section">join</h1>


<div class="paragraph"> </div>

       Same as <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a></span> but does not assume anything regarding heights of <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#l"><span class="id" title="variable">l</span></a></span>
       and <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#r"><span class="id" title="variable">r</span></a></span>.
       
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.join"><span class="id" title="definition">join</span></a> <span class="id" title="var">l</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> <span class="id" title="var">lr</span> <span class="id" title="var">lh</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">join_aux</span> (<span class="id" title="var">r</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a>) : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒  <a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">rl</span> <span class="id" title="var">rx</span> <span class="id" title="var">rd</span> <span class="id" title="var">rr</span> <span class="id" title="var">rh</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.ZArith_dec.html#Z_gt_le_dec"><span class="id" title="definition">Z_gt_le_dec</span></a> <span class="id" title="var">lh</span> (<span class="id" title="var">rh</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>2) <span class="id" title="keyword">then</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> (<a class="idref" href="Containers.MapAVL.html#join"><span class="id" title="definition">join</span></a> <span class="id" title="var">lr</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.ZArith_dec.html#Z_gt_le_dec"><span class="id" title="definition">Z_gt_le_dec</span></a> <span class="id" title="var">rh</span> (<span class="id" title="var">lh</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>2) <span class="id" title="keyword">then</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> (<a class="idref" href="Containers.MapAVL.html#join_aux"><span class="id" title="variable">join_aux</span></a> <span class="id" title="var">rl</span>) <span class="id" title="var">rx</span> <span class="id" title="var">rd</span> <span class="id" title="var">rr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab179"></a><h1 class="section">Splitting</h1>


<div class="paragraph"> </div>

       <span class="inlinecode"><span class="id" title="tactic">split</span></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.m"><span class="id" title="variable">m</span></a></span> returns a triple <span class="inlinecode">(<a class="idref" href="Containers.OrderedType.html#l"><span class="id" title="variable">l</span></a>,</span> <span class="inlinecode"><a class="idref" href="Containers.MapFacts.html#o"><span class="id" title="variable">o</span></a>,</span> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#r"><span class="id" title="variable">r</span></a>)</span> where
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="Containers.OrderedType.html#l"><span class="id" title="variable">l</span></a></span> is the set of elements of <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.m"><span class="id" title="variable">m</span></a></span> that are <span class="inlinecode">&lt;</span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span>

</li>
<li> <span class="inlinecode"><a class="idref" href="Containers.OrderedTypeEx.html#r"><span class="id" title="variable">r</span></a></span> is the set of elements of <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.m"><span class="id" title="variable">m</span></a></span> that are <span class="inlinecode">&gt;</span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span>

</li>
<li> <span class="inlinecode"><a class="idref" href="Containers.MapFacts.html#o"><span class="id" title="variable">o</span></a></span> is the result of <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.find"><span class="id" title="definition">find</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.m"><span class="id" title="variable">m</span></a></span>.

</li>
</ul>
       
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="MapAVL.triple"><span class="id" title="record">triple</span></a> := <a name="MapAVL.mktriple"><span class="id" title="constructor">mktriple</span></a> { <a name="MapAVL.t_left"><span class="id" title="projection">t_left</span></a>:<a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a>; <a name="MapAVL.t_opt"><span class="id" title="projection">t_opt</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a>; <a name="MapAVL.t_right"><span class="id" title="projection">t_right</span></a>:<a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> }.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">&quot;</span></a>&lt;( l , b , r )&gt;" := (<a class="idref" href="Containers.MapAVL.html#MapAVL.mktriple"><span class="id" title="constructor">mktriple</span></a> <span class="id" title="var">l</span> <span class="id" title="var">b</span> <span class="id" title="var">r</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.split"><span class="id" title="definition">split</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.triple"><span class="id" title="record">triple</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">ll</span>,<span class="id" title="var">o</span>,<span class="id" title="var">rl</span>) := <a class="idref" href="Containers.MapAVL.html#split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="Containers.MapAVL.html#ll"><span class="id" title="variable">ll</span></a><a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> <a class="idref" href="Containers.MapAVL.html#rl"><span class="id" title="variable">rl</span></a> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">&lt;(</span></a> <span class="id" title="var">l</span><a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span><a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span> <a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">rl</span>,<span class="id" title="var">o</span>,<span class="id" title="var">rr</span>) := <a class="idref" href="Containers.MapAVL.html#split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">r</span> <span class="id" title="tactic">in</span> <a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <a class="idref" href="Containers.MapAVL.html#rl"><span class="id" title="variable">rl</span></a><a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#rr"><span class="id" title="variable">rr</span></a> <a class="idref" href="Containers.MapAVL.html#68cd8c7ae108d82e8d8bdff306b8fd6d"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">split_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="tactic">split</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab180"></a><h1 class="section">Concatenation</h1>


<div class="paragraph"> </div>

       Same as <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.merge"><span class="id" title="definition">merge</span></a></span> but does not assume anything about heights.
       
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.concat"><span class="id" title="definition">concat</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a>, <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> , <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">m2'</span>,<span class="id" title="var">xd</span>) := <a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#xd"><span class="id" title="variable">xd</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a> <a class="idref" href="Containers.MapAVL.html#xd"><span class="id" title="variable">xd</span></a><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">#2</span></a> <a class="idref" href="Containers.MapAVL.html#m2'"><span class="id" title="variable">m2'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">concat_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">concat</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab181"></a><h1 class="section">Elements</h1>

<div class="paragraph"> </div>

 <span class="inlinecode"><span class="id" title="var">elements_tree_aux</span></span> <span class="inlinecode"><a class="idref" href="Containers.SetProperties.html#acc"><span class="id" title="variable">acc</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.t"><span class="id" title="definition">t</span></a></span> catenates the elements of <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.t"><span class="id" title="definition">t</span></a></span> in infix
       order to the list <span class="inlinecode"><a class="idref" href="Containers.SetProperties.html#acc"><span class="id" title="variable">acc</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.elements_aux"><span class="id" title="definition">elements_aux</span></a> (<span class="id" title="var">acc</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a>)) <span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Containers.MapAVL.html#elements_aux"><span class="id" title="definition">elements_aux</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Containers.MapAVL.html#elements_aux"><span class="id" title="definition">elements_aux</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a> <span class="id" title="var">r</span>) <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
then <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.elements"><span class="id" title="definition">elements</span></a></span> is an instanciation with an empty <span class="inlinecode"><a class="idref" href="Containers.SetProperties.html#acc"><span class="id" title="variable">acc</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.elements"><span class="id" title="definition">elements</span></a> := <a class="idref" href="Containers.MapAVL.html#MapAVL.elements_aux"><span class="id" title="definition">elements_aux</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab182"></a><h1 class="section">Fold</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.fold"><span class="id" title="definition">fold</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a>) : <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#a"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Containers.MapAVL.html#fold"><span class="id" title="definition">fold</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> (<a class="idref" href="Containers.MapAVL.html#fold"><span class="id" title="definition">fold</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span> <a class="idref" href="Containers.MapAVL.html#a"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab183"></a><h1 class="section">Comparison</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab184"></a><h2 class="section">Enumeration of the elements of a tree</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="MapAVL.enumeration"><span class="id" title="inductive">enumeration</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.End"><span class="id" title="constructor">End</span></a> : <a class="idref" href="Containers.MapAVL.html#enumeration"><span class="id" title="inductive">enumeration</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.More"><span class="id" title="constructor">More</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#enumeration"><span class="id" title="inductive">enumeration</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#enumeration"><span class="id" title="inductive">enumeration</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.cons"><span class="id" title="definition">cons</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.m"><span class="id" title="variable">m</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.e"><span class="id" title="variable">e</span></a></span> adds the elements of tree <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.m"><span class="id" title="variable">m</span></a></span> on the head of
       enumeration <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.e"><span class="id" title="variable">e</span></a></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.cons"><span class="id" title="definition">cons</span></a> <span class="id" title="var">m</span> <span class="id" title="var">e</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.enumeration"><span class="id" title="inductive">enumeration</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> ⇒ <a class="idref" href="Containers.MapAVL.html#cons"><span class="id" title="definition">cons</span></a> <span class="id" title="var">l</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.More"><span class="id" title="constructor">More</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
One step of comparison of elements 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">Bool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.equal_more"><span class="id" title="definition">equal_more</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> (<span class="id" title="var">cont</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.enumeration"><span class="id" title="inductive">enumeration</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <span class="id" title="var">e2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.End"><span class="id" title="constructor">End</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.More"><span class="id" title="constructor">More</span></a> <span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="var">e2</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">x2</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#d1"><span class="id" title="variable">d1</span></a> <span class="id" title="var">d2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Bool.Bool.html#904a85b4814d009a1516bd4b10d7e096"><span class="id" title="notation">&amp;&amp;&amp;</span></a> <a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.cons"><span class="id" title="definition">cons</span></a> <span class="id" title="var">r2</span> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Comparison of left tree, middle element, then right tree 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.equal_cont"><span class="id" title="definition">equal_cont</span></a> <span class="id" title="var">m1</span> (<span class="id" title="var">cont</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.enumeration"><span class="id" title="inductive">enumeration</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <span class="id" title="var">e2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> <span class="id" title="var">r1</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#equal_cont"><span class="id" title="definition">equal_cont</span></a> <span class="id" title="var">l1</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.equal_more"><span class="id" title="definition">equal_more</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> (<a class="idref" href="Containers.MapAVL.html#equal_cont"><span class="id" title="definition">equal_cont</span></a> <span class="id" title="var">r1</span> <a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a>)) <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Initial continuation 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.equal_end"><span class="id" title="definition">equal_end</span></a> <span class="id" title="var">e2</span> := <span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.End"><span class="id" title="constructor">End</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The complete comparison 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.equal"><span class="id" title="definition">equal</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> := <a class="idref" href="Containers.MapAVL.html#MapAVL.equal_cont"><span class="id" title="definition">equal_cont</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.equal_end"><span class="id" title="definition">equal_end</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.cons"><span class="id" title="definition">cons</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.End"><span class="id" title="constructor">End</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Elt"><span class="id" title="section">Elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="MapAVL.t"><span class="id" title="abbreviation">t</span></a> := <a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="53d33c720cb56b54108a1cddae04280b"><span class="id" title="notation">&quot;</span></a>&lt;( l , b , r )&gt;" := (<a class="idref" href="Containers.MapAVL.html#MapAVL.mktriple"><span class="id" title="constructor">mktriple</span></a> <span class="id" title="var">l</span> <span class="id" title="var">b</span> <span class="id" title="var">r</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="5837e7b8f555896c543e69eb50b63eec"><span class="id" title="notation">&quot;</span></a>t '#l'" := (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_left"><span class="id" title="projection">t_left</span></a> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">format</span> "t '#l'").<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="d44a1de1999322b57c34cfd3b0c695d3"><span class="id" title="notation">&quot;</span></a>t '#o'" := (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_opt"><span class="id" title="projection">t_opt</span></a> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">format</span> "t '#o'").<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="38ef5718ff5a7c175dcb94aeb2b76785"><span class="id" title="notation">&quot;</span></a>t '#r'" := (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_right"><span class="id" title="projection">t_right</span></a> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">format</span> "t '#r'").<br/>

<br/>
</div>

<div class="doc">
<a name="lab185"></a><h1 class="section">Map</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> : <span class="id" title="keyword">Type</span>)(<span class="id" title="var">f</span> : <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a>)(<span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a>   ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> (<a class="idref" href="Containers.MapAVL.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">x</span> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="Containers.MapAVL.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span>) <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> : <span class="id" title="keyword">Type</span>)(<span class="id" title="var">f</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a>)(<span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a>   ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> (<a class="idref" href="Containers.MapAVL.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">x</span> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span>) (<a class="idref" href="Containers.MapAVL.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span>) <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab186"></a><h1 class="section">Map with removal</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.map_option"><span class="id" title="definition">map_option</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> : <span class="id" title="keyword">Type</span>)(<span class="id" title="var">f</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a>)(<span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d'</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> (<a class="idref" href="Containers.MapAVL.html#map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">x</span> <span class="id" title="var">d'</span> (<a class="idref" href="Containers.MapAVL.html#map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="Containers.MapAVL.html#map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span>) (<a class="idref" href="Containers.MapAVL.html#map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab187"></a><h1 class="section">Optimized map2</h1>


<div class="paragraph"> </div>

     Suggestion by B. Gregoire: a <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.map2"><span class="id" title="definition">map2</span></a></span> function with specialized
     arguments allowing to bypass some tree traversal. Instead of one
     <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a></span> of type <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.key"><span class="id" title="definition">key</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt'"><span class="id" title="variable">elt'</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt''"><span class="id" title="variable">elt''</span></a></span>,
     we ask here for:
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="Containers.SetConstructs.html#Mapping.f"><span class="id" title="variable">f</span></a></span> which is a specialisation of <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a></span> when first option isn't <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span>

</li>
<li> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapl"><span class="id" title="variable">mapl</span></a></span> treats a <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.tree"><span class="id" title="inductive">tree</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a></span> with <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a></span> when second option is <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span>

</li>
<li> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapr"><span class="id" title="variable">mapr</span></a></span> treats a <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.tree"><span class="id" title="inductive">tree</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt'"><span class="id" title="variable">elt'</span></a></span> with <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a></span> when first option is <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span>

</li>
</ul>

<div class="paragraph"> </div>

     The idea is that <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapl"><span class="id" title="variable">mapl</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapr"><span class="id" title="variable">mapr</span></a></span> can be instantaneous (e.g.
     the identity or some constant function).
     
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Key.Map2_opt"><span class="id" title="section">Map2_opt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Key.Map2_opt.elt"><span class="id" title="variable">elt</span></a> <a name="MapAVL.Key.Map2_opt.elt'"><span class="id" title="variable">elt'</span></a> <a name="MapAVL.Key.Map2_opt.elt''"><span class="id" title="variable">elt''</span></a> : <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Key.Map2_opt.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt.elt''"><span class="id" title="variable">elt''</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Key.Map2_opt.mapl"><span class="id" title="variable">mapl</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt.elt''"><span class="id" title="variable">elt''</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Key.Map2_opt.mapr"><span class="id" title="variable">mapr</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt.elt''"><span class="id" title="variable">elt''</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.map2_opt"><span class="id" title="definition">map2_opt</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a>, <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt.mapr"><span class="id" title="variable">mapr</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt.mapl"><span class="id" title="variable">mapl</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> <span class="id" title="var">r1</span> <span class="id" title="var">h1</span>, <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">l2'</span>,<span class="id" title="var">o2</span>,<span class="id" title="var">r2'</span>) := <a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <span class="id" title="var">x1</span> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> <a class="idref" href="Containers.MapAVL.html#o2"><span class="id" title="variable">o2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> (<a class="idref" href="Containers.MapAVL.html#map2_opt"><span class="id" title="definition">map2_opt</span></a> <span class="id" title="var">l1</span> <a class="idref" href="Containers.MapAVL.html#l2'"><span class="id" title="variable">l2'</span></a>) <span class="id" title="var">x1</span> <span class="id" title="var">e</span> (<a class="idref" href="Containers.MapAVL.html#map2_opt"><span class="id" title="definition">map2_opt</span></a> <span class="id" title="var">r1</span> <a class="idref" href="Containers.MapAVL.html#r2'"><span class="id" title="variable">r2'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="Containers.MapAVL.html#map2_opt"><span class="id" title="definition">map2_opt</span></a> <span class="id" title="var">l1</span> <a class="idref" href="Containers.MapAVL.html#l2'"><span class="id" title="variable">l2'</span></a>) (<a class="idref" href="Containers.MapAVL.html#map2_opt"><span class="id" title="definition">map2_opt</span></a> <span class="id" title="var">r1</span> <a class="idref" href="Containers.MapAVL.html#r2'"><span class="id" title="variable">r2'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2_opt"><span class="id" title="section">Map2_opt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">map_option_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">map_option</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Functional Scheme</span> <span class="id" title="var">map2_opt_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">map2_opt</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab188"></a><h1 class="section">Map2</h1>


<div class="paragraph"> </div>

     The <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.map2"><span class="id" title="definition">map2</span></a></span> function of the Map interface can be implemented
     via <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.map_option"><span class="id" title="definition">map_option</span></a></span>.
     
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Key.Map2"><span class="id" title="section">Map2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Key.Map2.elt"><span class="id" title="variable">elt</span></a> <a name="MapAVL.Key.Map2.elt'"><span class="id" title="variable">elt'</span></a> <a name="MapAVL.Key.Map2.elt''"><span class="id" title="variable">elt''</span></a> : <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Key.Map2.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2.elt''"><span class="id" title="variable">elt''</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.map2"><span class="id" title="definition">map2</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2.elt''"><span class="id" title="variable">elt''</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.map2_opt"><span class="id" title="definition">map2_opt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span> <span class="id" title="var">o</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="Containers.MapAVL.html#o"><span class="id" title="variable">o</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#MapAVL.map_option"><span class="id" title="definition">map_option</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#MapAVL.map_option"><span class="id" title="definition">map_option</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">d'</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#d'"><span class="id" title="variable">d'</span></a>))).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Map2"><span class="id" title="section">Map2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab189"></a><h1 class="section">Invariants</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Key.Invariants"><span class="id" title="section">Invariants</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Key.Invariants.elt"><span class="id" title="variable">elt</span></a> : <span class="id" title="keyword">Type</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab190"></a><h2 class="section">Occurrence in a tree</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> (<span class="id" title="var">x</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a>)(<span class="id" title="var">e</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Invariants.elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Invariants.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.MapsRoot"><span class="id" title="constructor">MapsRoot</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.MapsLeft"><span class="id" title="constructor">MapsLeft</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> <span class="id" title="var">y</span> <span class="id" title="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.MapsRight"><span class="id" title="constructor">MapsRight</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> <span class="id" title="var">y</span> <span class="id" title="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="MapAVL.In"><span class="id" title="inductive">In</span></a> (<span class="id" title="var">x</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.key"><span class="id" title="variable">key</span></a>) : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Invariants.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.InRoot"><span class="id" title="constructor">InRoot</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.InLeft"><span class="id" title="constructor">InLeft</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> <span class="id" title="var">y</span> <span class="id" title="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.InRight"><span class="id" title="constructor">InRight</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> <span class="id" title="var">y</span> <span class="id" title="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.In0"><span class="id" title="definition">In0</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">e</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Invariants.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab191"></a><h2 class="section">Binary search trees</h2>

<div class="paragraph"> </div>

 <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s"><span class="id" title="variable">s</span></a></span>: all elements in <span class="inlinecode"><a class="idref" href="Containers.SetAVL.html#SetDefinitions.Specs.s"><span class="id" title="variable">s</span></a></span> are smaller than <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span>
       (resp. greater for <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a></span>) 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> := <span class="id" title="keyword">∀</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> := <span class="id" title="keyword">∀</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.t"><span class="id" title="definition">t</span></a></span> : <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.t"><span class="id" title="definition">t</span></a></span> is a binary search tree 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="MapAVL.bst"><span class="id" title="inductive">bst</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Invariants.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.BSLeaf"><span class="id" title="constructor">BSLeaf</span></a> : <a class="idref" href="Containers.MapAVL.html#bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.BSNode"><span class="id" title="constructor">BSNode</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span>, <a class="idref" href="Containers.MapAVL.html#bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key.Invariants"><span class="id" title="section">Invariants</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Key"><span class="id" title="section">Key</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab192"></a><h1 class="section">Correctness proofs, isolated in a sub-module</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="MapAVL.Proofs"><span class="id" title="module">Proofs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="MapAVL.Proofs.PX"><span class="id" title="module">PX</span></a> := <a class="idref" href="Containers.OrderedType.html#KeyOrderedType"><span class="id" title="module">KeyOrderedType</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="MapAVL.Proofs.L"><span class="id" title="module">L</span></a> := <a class="idref" href="Containers.MapList.html#MapList"><span class="id" title="module">MapList.MapList</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab193"></a><h1 class="section">Automation and dedicated tactics.</h1>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Containers.MapAVL.html#tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#bst"><span class="id" title="inductive">bst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Tactic Notation</span> "factornode" <span class="id" title="var">ident</span>(<span class="id" title="var">l</span>) <span class="id" title="var">ident</span>(<span class="id" title="var">x</span>) <span class="id" title="var">ident</span>(<span class="id" title="var">d</span>) <span class="id" title="var">ident</span>(<span class="id" title="var">r</span>) <span class="id" title="var">ident</span>(<span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"as" <span class="id" title="var">ident</span>(<span class="id" title="var">s</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">s</span>:=<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span>) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span>.<br/>

<br/>
</div>

<div class="doc">
A tactic for cleaning hypothesis after use of functional induction. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">clearf</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (@<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#comparison"><span class="id" title="inductive">comparison</span></a> (@<a class="idref" href="Containers.OrderedType.html#compare"><span class="id" title="definition">compare</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">Y</span>) <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">clearf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : (@<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Specif.html#sumbool"><span class="id" title="inductive">sumbool</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">clearf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
A tactic to repeat <span class="inlinecode"><span class="id" title="tactic">inversion_clear</span></span> on all hyps of the
       form <span class="inlinecode">(<a class="idref" href="Containers.SetConstructs.html#Mapping.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">(<a class="idref" href="Containers.MapPositive.html#PositiveMap.Node"><span class="id" title="constructor">Node</span></a></span> <span class="inlinecode">...))</span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>:<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>:<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>:<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>:<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>:<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>:<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>:<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>:<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_all</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">f</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Helper tactic concerning order of elements. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">order_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">U</span>: <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">s</span>, <span class="id" title="var">V</span>: <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">s</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">U</span> <span class="id" title="var">_</span> <span class="id" title="var">V</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">U</span>; <span class="id" title="var">order_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">U</span>: <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">s</span>, <span class="id" title="var">V</span>: <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">s</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">U</span> <span class="id" title="var">_</span> <span class="id" title="var">V</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">U</span>; <span class="id" title="var">order_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">OrderedType.order</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">order</span> := <span class="id" title="tactic">intros</span>; <span class="id" title="var">order_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">intuition_in</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">progress</span> (<span class="id" title="tactic">intuition</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">join_tac</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">ll</span> <span class="id" title="var">_</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> <span class="id" title="var">lr</span> <span class="id" title="var">Hlr</span> <span class="id" title="var">lh</span>];<br/>
&nbsp;&nbsp;&nbsp;[ | <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">rl</span> <span class="id" title="var">Hrl</span> <span class="id" title="var">rx</span> <span class="id" title="var">rd</span> <span class="id" title="var">rr</span> <span class="id" title="var">_</span> <span class="id" title="var">rh</span>]; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.ZArith_dec.html#Z_gt_le_dec"><span class="id" title="definition">Z_gt_le_dec</span></a> <span class="id" title="var">lh</span> (<span class="id" title="var">rh</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>2)) <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span>|<span class="id" title="var">z</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span> [ <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> ?<span class="id" title="var">u</span> ?<span class="id" title="var">v</span> ?<span class="id" title="var">w</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> <span class="id" title="var">lr</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">rl</span> <span class="id" title="var">rx</span> <span class="id" title="var">rd</span> <span class="id" title="var">rr</span> <span class="id" title="var">rh</span>))); [ | <span class="id" title="tactic">auto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.ZArith_dec.html#Z_gt_le_dec"><span class="id" title="definition">Z_gt_le_dec</span></a> <span class="id" title="var">rh</span> (<span class="id" title="var">lh</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>2)) <span class="id" title="keyword">as</span> [<span class="id" title="var">z0</span>|<span class="id" title="var">z0</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span> [ <a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> ?<span class="id" title="var">u</span> ?<span class="id" title="var">v</span> ?<span class="id" title="var">w</span> ?<span class="id" title="var">z</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> <span class="id" title="var">lr</span> <span class="id" title="var">lh</span>) <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">rl</span>) <span class="id" title="var">rx</span> <span class="id" title="var">rd</span> <span class="id" title="var">rr</span>); [ | <span class="id" title="tactic">auto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ] ] ] ]; <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Proofs.Key"><span class="id" title="section">Key</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">key_OT</span> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">key</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Proofs.Key.Elt"><span class="id" title="section">Elt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>:<span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> <span class="id" title="var">r</span> : @<a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab194"></a><h1 class="section">Basic results about <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.MapsTo"><span class="id" title="definition">MapsTo</span></a></span>,</h1>

         <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.In"><span class="id" title="definition">In</span></a></span>, <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a></span>, <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a></span>, <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.height"><span class="id" title="definition">height</span></a></span>  Facts about <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.MapsTo"><span class="id" title="definition">MapsTo</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.In"><span class="id" title="definition">In</span></a></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">MapsTo_In</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.In_MapsTo"><span class="id" title="lemma">In_MapsTo</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">k</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHIn</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e</span>,<span class="id" title="var">He</span>); <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.In_alt"><span class="id" title="lemma">In_alt</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">k</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.In0"><span class="id" title="definition">In0</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.In0"><span class="id" title="definition">In0</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.In_MapsTo"><span class="id" title="lemma">In_MapsTo</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.MapsTo_1"><span class="id" title="lemma">MapsTo_1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">intuition_in</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1; <span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Immediate</span> <span class="id" title="var">MapsTo_1</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.In_1"><span class="id" title="lemma">In_1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">intuition_in</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1; <span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.In_node_iff"><span class="id" title="lemma">In_node_iff</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>; <span class="id" title="var">inv</span> <span class="id" title="var">In</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Results about <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.lt_leaf"><span class="id" title="lemma">lt_leaf</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.gt_leaf"><span class="id" title="lemma">gt_leaf</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.lt_tree_node"><span class="id" title="lemma">lt_tree_node</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.gt_tree_node"><span class="id" title="lemma">gt_tree_node</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.lt_leaf"><span class="id" title="lemma">lt_leaf</span></a> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.gt_leaf"><span class="id" title="lemma">gt_leaf</span></a> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.lt_tree_node"><span class="id" title="lemma">lt_tree_node</span></a> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.gt_tree_node"><span class="id" title="lemma">gt_tree_node</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.lt_left"><span class="id" title="lemma">lt_left</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.lt_right"><span class="id" title="lemma">lt_right</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.gt_left"><span class="id" title="lemma">gt_left</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.gt_right"><span class="id" title="lemma">gt_right</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.lt_left"><span class="id" title="lemma">lt_left</span></a> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.lt_right"><span class="id" title="lemma">lt_right</span></a> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.gt_left"><span class="id" title="lemma">gt_left</span></a> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.gt_right"><span class="id" title="lemma">gt_right</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.lt_tree_not_in"><span class="id" title="lemma">lt_tree_not_in</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">generalize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.lt_tree_trans"><span class="id" title="lemma">lt_tree_trans</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.gt_tree_not_in"><span class="id" title="lemma">gt_tree_not_in</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">generalize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.gt_tree_trans"><span class="id" title="lemma">gt_tree_trans</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.lt_tree_not_in"><span class="id" title="lemma">lt_tree_not_in</span></a> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.lt_tree_trans"><span class="id" title="lemma">lt_tree_trans</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.gt_tree_not_in"><span class="id" title="lemma">gt_tree_not_in</span></a> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.gt_tree_trans"><span class="id" title="lemma">gt_tree_trans</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab195"></a><h1 class="section">Empty map</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.Proofs.Empty"><span class="id" title="definition">Empty</span></a> <span class="id" title="var">m</span> := <span class="id" title="keyword">∀</span> (<span class="id" title="var">a</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a>)(<span class="id" title="var">e</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) , <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.empty_bst"><span class="id" title="lemma">empty_bst</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.empty"><span class="id" title="definition">empty</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.empty_1"><span class="id" title="lemma">empty_1</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Empty"><span class="id" title="definition">Empty</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.empty"><span class="id" title="definition">empty</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Empty"><span class="id" title="definition">Empty</span></a>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab196"></a><h1 class="section">Emptyness test</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.is_empty_1"><span class="id" title="lemma">is_empty_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.is_empty"><span class="id" title="definition">is_empty</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">elim</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.is_empty_2"><span class="id" title="lemma">is_empty_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.is_empty"><span class="id" title="definition">is_empty</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">red</span>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab197"></a><h1 class="section">Appartness</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.mem_1"><span class="id" title="lemma">mem_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.mem"><span class="id" title="definition">mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.mem_2"><span class="id" title="lemma">mem_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.mem"><span class="id" title="definition">mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="var">clearf</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.find_1"><span class="id" title="lemma">find_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="var">intuition_in</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">order</span> | <span class="id" title="var">absurd</span> (<span class="id" title="var">x</span> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <span class="id" title="var">y</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">false_order</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">absurd</span> (<span class="id" title="var">y</span> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">false_order</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.find_2"><span class="id" title="lemma">find_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 2; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 3; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.find_iff"><span class="id" title="lemma">find_iff</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_1"><span class="id" title="lemma">find_1</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_2"><span class="id" title="lemma">find_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.find_in"><span class="id" title="lemma">find_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); [<span class="id" title="tactic">intros</span>|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_2"><span class="id" title="lemma">find_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.in_find"><span class="id" title="lemma">in_find</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.In_MapsTo"><span class="id" title="lemma">In_MapsTo</span></a> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">d</span>,<span class="id" title="var">Hd</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_1"><span class="id" title="lemma">find_1</span></a> <span class="id" title="var">H</span> <span class="id" title="var">Hd</span>); <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.find_in_iff"><span class="id" title="lemma">find_in_iff</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_in"><span class="id" title="lemma">find_in</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.in_find"><span class="id" title="lemma">in_find</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.not_find_iff"><span class="id" title="lemma">not_find_iff</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.in_find"><span class="id" title="lemma">in_find</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); [ <span class="id" title="tactic">intros</span> | <span class="id" title="tactic">auto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_in"><span class="id" title="lemma">find_in</span></a>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.find_find"><span class="id" title="lemma">find_find</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">d</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m'</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.find_mapsto_equiv"><span class="id" title="lemma">find_mapsto_equiv</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">d</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_find"><span class="id" title="lemma">find_find</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">specialize</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- 2 <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_iff"><span class="id" title="lemma">find_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_iff"><span class="id" title="lemma">find_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.find_in_equiv"><span class="id" title="lemma">find_in_equiv</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_in"><span class="id" title="lemma">find_in</span></a>; [ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span> | <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.in_find"><span class="id" title="lemma">in_find</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab198"></a><h1 class="section">Helper functions</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.create_bst"><span class="id" title="lemma">create_bst</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.create_bst"><span class="id" title="lemma">create_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.create_in"><span class="id" title="lemma">create_in</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">inversion_clear</span> 1 | ]; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.bal_bst"><span class="id" title="lemma">bal_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.create_bst"><span class="id" title="lemma">create_bst</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.lt_tree_node"><span class="id" title="lemma">lt_tree_node</span></a> || <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.gt_tree_node"><span class="id" title="lemma">gt_tree_node</span></a>); <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.lt_tree_trans"><span class="id" title="lemma">lt_tree_trans</span></a> || <span class="id" title="tactic">eapply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.gt_tree_trans"><span class="id" title="lemma">gt_tree_trans</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_bst"><span class="id" title="lemma">bal_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.create_in"><span class="id" title="lemma">create_in</span></a>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">y</span> <span class="id" title="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.assert_false"><span class="id" title="definition">assert_false</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.bal_find"><span class="id" title="lemma">bal_find</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bal"><span class="id" title="definition">bal</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_mapsto_equiv"><span class="id" title="lemma">find_mapsto_equiv</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab199"></a><h1 class="section">Insertion</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.add_in"><span class="id" title="lemma">add_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a>, <span class="id" title="var">IHt</span>); <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.In_1"><span class="id" title="lemma">In_1</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.add_bst"><span class="id" title="lemma">add_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_bst"><span class="id" title="lemma">bal_bst</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.add_in"><span class="id" title="lemma">add_in</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.OrderedType.html#eq_lt"><span class="id" title="lemma">eq_lt</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.OrderedType.html#lt_eq"><span class="id" title="lemma">lt_eq</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.add_bst"><span class="id" title="lemma">add_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.add_1"><span class="id" title="lemma">add_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1; <span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.add_2"><span class="id" title="lemma">add_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">k</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.add_3"><span class="id" title="lemma">add_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.add_find"><span class="id" title="lemma">add_find</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.add"><span class="id" title="definition">add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_mapsto_equiv"><span class="id" title="lemma">find_mapsto_equiv</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.add_2"><span class="id" title="lemma">add_2</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.add_3"><span class="id" title="lemma">add_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">order</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_1"><span class="id" title="lemma">find_1</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.add_1"><span class="id" title="lemma">add_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab200"></a><h1 class="section">Insertion with combining function</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert0_in"><span class="id" title="lemma">insert0_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a>, <span class="id" title="var">IHt</span>); <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.In_1"><span class="id" title="lemma">In_1</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert0_bst"><span class="id" title="lemma">insert0_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_bst"><span class="id" title="lemma">bal_bst</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert0_in"><span class="id" title="lemma">insert0_in</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.OrderedType.html#eq_lt"><span class="id" title="lemma">eq_lt</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.OrderedType.html#lt_eq"><span class="id" title="lemma">lt_eq</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert0_bst"><span class="id" title="lemma">insert0_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert0_1"><span class="id" title="lemma">insert0_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">Hm</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> := <span class="id" title="var">H4</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a> <span class="id" title="var">H7</span>)); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> := <span class="id" title="var">H5</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a> <span class="id" title="var">H7</span>)); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> := <span class="id" title="var">H5</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a> <span class="id" title="var">H7</span>)); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> := <span class="id" title="var">H4</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a> <span class="id" title="var">H7</span>)); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert0_2"><span class="id" title="lemma">insert0_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">Hm</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">constructor</span> 1; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 2; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 3; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert0_3"><span class="id" title="lemma">insert0_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">k</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert0_4"><span class="id" title="lemma">insert0_4</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab201"></a><h1 class="section">Adjusting an existing mapping</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.adjust_in"><span class="id" title="lemma">adjust_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.adjust"><span class="id" title="definition">adjust</span></a> <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a>, <span class="id" title="var">IHt</span>); <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.adjust_bst"><span class="id" title="lemma">adjust_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.adjust"><span class="id" title="definition">adjust</span></a> <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.adjust_in"><span class="id" title="lemma">adjust_in</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.adjust_bst"><span class="id" title="lemma">adjust_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.adjust_1"><span class="id" title="lemma">adjust_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> <span class="id" title="var">Hm</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.adjust"><span class="id" title="definition">adjust</span></a> <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> := <span class="id" title="var">H4</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a> <span class="id" title="var">H7</span>)); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> := <span class="id" title="var">H5</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a> <span class="id" title="var">H7</span>)); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> := <span class="id" title="var">H5</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a> <span class="id" title="var">H7</span>)); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> := <span class="id" title="var">H4</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a> <span class="id" title="var">H7</span>)); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.adjust_2"><span class="id" title="lemma">adjust_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">k</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.adjust_3"><span class="id" title="lemma">adjust_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab202"></a><h1 class="section">Back to insertion : the efficient version can be</h1>

         specified in terms of <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a></span> and <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#CPositiveMap.adjust"><span class="id" title="definition">adjust</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="MapAVL.Proofs.insert_aux_respec"><span class="id" title="inductive">insert_aux_respec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span> : @<a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.Proofs.insert_aux_respec_true"><span class="id" title="constructor">insert_aux_respec_true</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m'</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.insert0"><span class="id" title="definition">insert0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#insert_aux_respec"><span class="id" title="inductive">insert_aux_respec</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a name="MapAVL.Proofs.insert_aux_respec_false"><span class="id" title="constructor">insert_aux_respec_false</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m'</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#insert_aux_respec"><span class="id" title="inductive">insert_aux_respec</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert_aux_iff"><span class="id" title="lemma">insert_aux_iff</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> (<span class="id" title="var">Hm</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert_aux_respec"><span class="id" title="inductive">insert_aux_respec</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert_aux"><span class="id" title="definition">insert_aux</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHm1</span> <span class="id" title="var">H3</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.OrderedType.html#elim_compare_lt"><span class="id" title="lemma">elim_compare_lt</span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">abs</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">abs</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.OrderedType.html#elim_compare_eq"><span class="id" title="lemma">elim_compare_eq</span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHm2</span> <span class="id" title="var">H5</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.OrderedType.html#elim_compare_gt"><span class="id" title="lemma">elim_compare_gt</span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">abs</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">abs</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert_in"><span class="id" title="lemma">insert_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> (<span class="id" title="var">Hm</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert_aux_iff"><span class="id" title="lemma">insert_aux_iff</span></a> <span class="id" title="var">Hm</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert0_in"><span class="id" title="lemma">insert0_in</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.adjust_in"><span class="id" title="lemma">adjust_in</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.In_1"><span class="id" title="lemma">In_1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">H2</span>) <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert_bst"><span class="id" title="lemma">insert_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert_aux_iff"><span class="id" title="lemma">insert_aux_iff</span></a> <span class="id" title="var">Hm</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert_bst"><span class="id" title="lemma">insert_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert_1"><span class="id" title="lemma">insert_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert_aux_iff"><span class="id" title="lemma">insert_aux_iff</span></a> <span class="id" title="var">Hm</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert0_1"><span class="id" title="lemma">insert0_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.adjust_1"><span class="id" title="lemma">adjust_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert_2"><span class="id" title="lemma">insert_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert_aux_iff"><span class="id" title="lemma">insert_aux_iff</span></a> <span class="id" title="var">Hm</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert0_2"><span class="id" title="lemma">insert0_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">abs</span>; <span class="id" title="var">contradiction</span> (<span class="id" title="var">abs</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.In_1"><span class="id" title="lemma">In_1</span></a> <span class="id" title="var">E</span> <span class="id" title="var">H0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert_3"><span class="id" title="lemma">insert_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert_aux_iff"><span class="id" title="lemma">insert_aux_iff</span></a> <span class="id" title="var">Hm</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert0_3"><span class="id" title="lemma">insert0_3</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.adjust_2"><span class="id" title="lemma">adjust_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.insert_4"><span class="id" title="lemma">insert_4</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.insert"><span class="id" title="definition">insert</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert_aux_iff"><span class="id" title="lemma">insert_aux_iff</span></a> <span class="id" title="var">Hm</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.insert0_4"><span class="id" title="lemma">insert0_4</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.adjust_3"><span class="id" title="lemma">adjust_3</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab203"></a><h1 class="section">Extraction of minimum binding</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.remove_min_in"><span class="id" title="lemma">remove_min_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">)#2</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">)#1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.In_node_iff"><span class="id" title="lemma">In_node_iff</span></a>, <span class="id" title="var">IHp</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.remove_min_mapsto"><span class="id" title="lemma">remove_min_mapsto</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> <span class="id" title="var">y</span> <span class="id" title="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">)#2</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">)#2#2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">)#1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHp</span> <span class="id" title="var">_x</span> <span class="id" title="var">y</span> <span class="id" title="var">e'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.remove_min_bst"><span class="id" title="lemma">remove_min_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">)#1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_bst"><span class="id" title="lemma">bal_bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHp</span> <span class="id" title="var">_x</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_in"><span class="id" title="lemma">remove_min_in</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> <span class="id" title="var">lr</span> <span class="id" title="var">_x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_bst"><span class="id" title="lemma">remove_min_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.remove_min_gt_tree"><span class="id" title="lemma">remove_min_gt_tree</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">)#2</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a> <a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">)#1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> *;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHp</span> <span class="id" title="var">_x</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_in"><span class="id" title="lemma">remove_min_in</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> <span class="id" title="var">lr</span> <span class="id" title="var">_x</span> <span class="id" title="var">m</span><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a> <span class="id" title="var">l'</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <span class="id" title="var">m</span><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">ld</span> <span class="id" title="var">lr</span> <span class="id" title="var">_x</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">auto</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">decompose</span> [<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#or"><span class="id" title="inductive">or</span></a>] <span class="id" title="var">H</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_gt_tree"><span class="id" title="lemma">remove_min_gt_tree</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.remove_min_find"><span class="id" title="lemma">remove_min_find</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">h</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">)#2</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">)#2#2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">)#1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.remove_min"><span class="id" title="definition">remove_min</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">)#2</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">)#1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.not_find_iff"><span class="id" title="lemma">not_find_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_in"><span class="id" title="lemma">remove_min_in</span></a>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">destruct</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span>|<span class="id" title="var">H'</span>]; [ <span class="id" title="var">order</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_gt_tree"><span class="id" title="lemma">remove_min_gt_tree</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>); <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_1"><span class="id" title="lemma">find_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_mapsto"><span class="id" title="lemma">remove_min_mapsto</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_mapsto_equiv"><span class="id" title="lemma">find_mapsto_equiv</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_mapsto"><span class="id" title="lemma">remove_min_mapsto</span></a>; <span class="id" title="tactic">intuition</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab204"></a><h1 class="section">Merging two trees</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.merge_in"><span class="id" title="lemma">merge_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.merge"><span class="id" title="definition">merge</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>);<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">factornode</span> <span class="id" title="var">_x</span> <span class="id" title="var">_x0</span> <span class="id" title="var">_x1</span> <span class="id" title="var">_x2</span> <span class="id" title="var">_x3</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_in"><span class="id" title="lemma">remove_min_in</span></a>, <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.merge_mapsto"><span class="id" title="lemma">merge_mapsto</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.merge"><span class="id" title="definition">merge</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>); <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">factornode</span> <span class="id" title="var">_x</span> <span class="id" title="var">_x0</span> <span class="id" title="var">_x1</span> <span class="id" title="var">_x2</span> <span class="id" title="var">_x3</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_mapsto"><span class="id" title="lemma">remove_min_mapsto</span></a>, <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.merge_bst"><span class="id" title="lemma">merge_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y2"><span class="id" title="variable">y2</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#y2"><span class="id" title="variable">y2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.merge"><span class="id" title="definition">merge</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">factornode</span> <span class="id" title="var">_x</span> <span class="id" title="var">_x0</span> <span class="id" title="var">_x1</span> <span class="id" title="var">_x2</span> <span class="id" title="var">_x3</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_bst"><span class="id" title="lemma">bal_bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_bst"><span class="id" title="lemma">remove_min_bst</span></a> <span class="id" title="var">H0</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_in"><span class="id" title="lemma">remove_min_in</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="var">_x4</span> <span class="id" title="var">x</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_gt_tree"><span class="id" title="lemma">remove_min_gt_tree</span></a> <span class="id" title="var">H0</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab205"></a><h1 class="section">Deletion</h1>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.remove_in"><span class="id" title="lemma">remove_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove"><span class="id" title="definition">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.merge_in"><span class="id" title="lemma">merge_in</span></a>; <span class="id" title="tactic">intuition</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">intro</span>; <span class="id" title="var">order</span> | <span class="id" title="tactic">intro</span>; <span class="id" title="var">order</span> | <span class="id" title="var">intuition_in</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false_order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHt</span> <span class="id" title="var">y0</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">intuition</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">intro</span>; <span class="id" title="var">order</span> | <span class="id" title="tactic">intro</span>; <span class="id" title="var">order</span> | <span class="id" title="var">intuition_in</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHt</span> <span class="id" title="var">y0</span> <span class="id" title="var">H2</span>); <span class="id" title="tactic">intuition</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">intro</span>; <span class="id" title="var">order</span> | <span class="id" title="tactic">intro</span>; <span class="id" title="var">order</span> | <span class="id" title="var">intuition_in</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.remove_bst"><span class="id" title="lemma">remove_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove"><span class="id" title="definition">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.merge_bst"><span class="id" title="lemma">merge_bst</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">transitivity</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_bst"><span class="id" title="lemma">bal_bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_in"><span class="id" title="lemma">remove_in</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y0</span> <span class="id" title="var">H1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_bst"><span class="id" title="lemma">bal_bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_in"><span class="id" title="lemma">remove_in</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y0</span> <span class="id" title="var">H2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.remove_1"><span class="id" title="lemma">remove_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_in"><span class="id" title="lemma">remove_in</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.remove_2"><span class="id" title="lemma">remove_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">k</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.merge_mapsto"><span class="id" title="lemma">merge_mapsto</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.remove_3"><span class="id" title="lemma">remove_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">Bs</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_mapsto"><span class="id" title="lemma">bal_mapsto</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.merge_mapsto"><span class="id" title="lemma">merge_mapsto</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab206"></a><h1 class="section">join</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.join_in"><span class="id" title="lemma">join_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">join_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.add_in"><span class="id" title="lemma">add_in</span></a>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.add_in"><span class="id" title="lemma">add_in</span></a>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a>, <span class="id" title="var">Hlr</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hlr</span> <span class="id" title="var">Hrl</span>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_in"><span class="id" title="lemma">bal_in</span></a>, <span class="id" title="var">Hrl</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hlr</span> <span class="id" title="var">Hrl</span>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.create_in"><span class="id" title="lemma">create_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.join_bst"><span class="id" title="lemma">join_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">join_tac</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">fail</span>); <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_bst"><span class="id" title="lemma">bal_bst</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hrl</span> <span class="id" title="var">Hlr</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_in"><span class="id" title="lemma">join_in</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; [ <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.OrderedType.html#lt_eq"><span class="id" title="lemma">lt_eq</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span> | ]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">transitivity</span> <span class="id" title="var">rx</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">lx</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_bst"><span class="id" title="lemma">join_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.join_find"><span class="id" title="lemma">join_find</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">r</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.create"><span class="id" title="definition">create</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">join_tac</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.join"><span class="id" title="definition">join</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">lx</span> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <span class="id" title="var">rx</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.add_find"><span class="id" title="lemma">add_find</span></a>, ?<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.bal_find"><span class="id" title="lemma">bal_find</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.not_find_iff"><span class="id" title="lemma">not_find_iff</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">order</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">lx</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">order</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.not_find_iff"><span class="id" title="lemma">not_find_iff</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">y</span> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlr</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">lx</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">lx</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">Hu</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_in"><span class="id" title="lemma">join_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hu</span>|[<span class="id" title="var">Hu</span>|<span class="id" title="var">Hu</span>]]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">generalize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">Hu</span>); <span class="id" title="var">order</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrl</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">rx</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">rx</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">Hu</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_in"><span class="id" title="lemma">join_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hu</span>|[<span class="id" title="var">Hu</span>|<span class="id" title="var">Hu</span>]]; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab207"></a><h1 class="section">split</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.split_in_1"><span class="id" title="lemma">split_in_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_left"><span class="id" title="projection">t_left</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>))  <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="var">clearf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_in"><span class="id" title="lemma">join_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.split_in_2"><span class="id" title="lemma">split_in_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_right"><span class="id" title="projection">t_right</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="var">clearf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_in"><span class="id" title="lemma">join_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.split_in_3"><span class="id" title="lemma">split_in_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.t_opt"><span class="id" title="projection">t_opt</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="var">clearf</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHt</span>, <span class="id" title="var">e1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.split_bst"><span class="id" title="lemma">split_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_left"><span class="id" title="projection">t_left</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_right"><span class="id" title="projection">t_right</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="var">clearf</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_bst"><span class="id" title="lemma">join_bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_2"><span class="id" title="lemma">split_in_2</span></a> <span class="id" title="var">x</span> <span class="id" title="var">H0</span> <span class="id" title="var">y0</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_1"><span class="id" title="lemma">split_in_1</span></a> <span class="id" title="var">x</span> <span class="id" title="var">H1</span> <span class="id" title="var">y0</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.split_lt_tree"><span class="id" title="lemma">split_lt_tree</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.lt_tree"><span class="id" title="definition">lt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_left"><span class="id" title="projection">t_left</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">B</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_1"><span class="id" title="lemma">split_in_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.split_gt_tree"><span class="id" title="lemma">split_gt_tree</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_right"><span class="id" title="projection">t_right</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">B</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_2"><span class="id" title="lemma">split_in_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.split_find"><span class="id" title="lemma">split_find</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_left"><span class="id" title="projection">t_left</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.t_opt"><span class="id" title="projection">t_opt</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.t_right"><span class="id" title="projection">t_right</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">clearf</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">destruct</span> <a class="idref" href="Containers.OrderedType.html#compare"><span class="id" title="definition">compare</span></a>; <span class="id" title="tactic">auto</span> | .. ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">E</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.split"><span class="id" title="definition">split</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>, <span class="id" title="var">B</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> ?<span class="id" title="var">t</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_1"><span class="id" title="lemma">split_in_1</span></a> <span class="id" title="var">x</span> <span class="id" title="var">B</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_2"><span class="id" title="lemma">split_in_2</span></a> <span class="id" title="var">x</span> <span class="id" title="var">B</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_bst"><span class="id" title="lemma">split_bst</span></a> <span class="id" title="var">x</span> <span class="id" title="var">B</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> 3 <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y0</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y0</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_find"><span class="id" title="lemma">join_find</span></a>, <span class="id" title="var">IHt</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y0</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y0</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">y1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span>; <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_find"><span class="id" title="lemma">join_find</span></a>, <span class="id" title="var">IHt</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y0</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y0</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab208"></a><h1 class="section">Concatenation</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.concat_in"><span class="id" title="lemma">concat_in</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.concat"><span class="id" title="definition">concat</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.concat"><span class="id" title="definition">concat</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>); <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">factornode</span> <span class="id" title="var">_x</span> <span class="id" title="var">_x0</span> <span class="id" title="var">_x1</span> <span class="id" title="var">_x2</span> <span class="id" title="var">_x3</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intuition_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_in"><span class="id" title="lemma">join_in</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_in"><span class="id" title="lemma">remove_min_in</span></a>, <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.concat_bst"><span class="id" title="lemma">concat_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y2"><span class="id" title="variable">y2</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#y2"><span class="id" title="variable">y2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.concat"><span class="id" title="definition">concat</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.concat"><span class="id" title="definition">concat</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">factornode</span> <span class="id" title="var">_x</span> <span class="id" title="var">_x0</span> <span class="id" title="var">_x1</span> <span class="id" title="var">_x2</span> <span class="id" title="var">_x3</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_bst"><span class="id" title="lemma">join_bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">m2'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">xd</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a>); <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">e1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_in"><span class="id" title="lemma">remove_min_in</span></a>, <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.gt_tree"><span class="id" title="definition">gt_tree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">m2'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">xd</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">#2</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">m2'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">xd</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a>); <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">e1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.concat_bst"><span class="id" title="lemma">concat_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.concat_find"><span class="id" title="lemma">concat_find</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y2"><span class="id" title="variable">y2</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#y2"><span class="id" title="variable">y2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.concat"><span class="id" title="definition">concat</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span> | <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.concat"><span class="id" title="definition">concat</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">factornode</span> <span class="id" title="var">_x</span> <span class="id" title="var">_x0</span> <span class="id" title="var">_x1</span> <span class="id" title="var">_x2</span> <span class="id" title="var">_x3</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m2</span>); <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_find"><span class="id" title="lemma">remove_min_find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">H0</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_in"><span class="id" title="lemma">remove_min_in</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="var">_x4</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_bst"><span class="id" title="lemma">remove_min_bst</span></a> <span class="id" title="var">H0</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.remove_min_gt_tree"><span class="id" title="lemma">remove_min_gt_tree</span></a> <span class="id" title="var">H0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="var">fst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="var">snd</span>; <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_find"><span class="id" title="lemma">join_find</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">xd</span><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m2'</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.not_find_iff"><span class="id" title="lemma">not_find_iff</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Containers.OrderedType.html#lt_not_gt"><span class="id" title="lemma">lt_not_gt</span></a> <span class="id" title="var">H0</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab209"></a><h1 class="section">Elements</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="MapAVL.Proofs.eqk"><span class="id" title="abbreviation">eqk</span></a> := (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.eqk"><span class="id" title="definition">PX.eqk</span></a> (<span class="id" title="var">elt</span>:= <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="MapAVL.Proofs.eqke"><span class="id" title="abbreviation">eqke</span></a> := (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.eqke"><span class="id" title="definition">PX.eqke</span></a> (<span class="id" title="var">elt</span>:= <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="MapAVL.Proofs.ltk"><span class="id" title="abbreviation">ltk</span></a> := (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.ltk"><span class="id" title="definition">PX.ltk</span></a> (<span class="id" title="var">elt</span>:= <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <span class="id" title="var">elt</span> := (<a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> (<span class="id" title="var">key</span>:= <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a>) <span class="id" title="var">elt</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.elements_aux_mapsto"><span class="id" title="lemma">elements_aux_mapsto</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">acc</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements_aux"><span class="id" title="definition">elements_aux</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">l</span> <span class="id" title="var">Hl</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">Hr</span> <span class="id" title="var">h</span> ]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hr</span> <span class="id" title="var">acc</span> <span class="id" title="var">x0</span> <span class="id" title="var">e0</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.elements_mapsto"><span class="id" title="lemma">elements_mapsto</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">e</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_aux_mapsto"><span class="id" title="lemma">elements_aux_mapsto</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.elements_in"><span class="id" title="lemma">elements_in</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.In"><span class="id" title="definition">PX.In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.In"><span class="id" title="definition">PX.In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.In0"><span class="id" title="definition">In0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_mapsto"><span class="id" title="lemma">elements_mapsto</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo"><span class="id" title="definition">PX.MapsTo</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_mapsto"><span class="id" title="lemma">elements_mapsto</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.elements_aux_sort"><span class="id" title="lemma">elements_aux_sort</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) <span class="id" title="var">acc</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.ltk"><span class="id" title="abbreviation">ltk</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">y</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.OrderedType.html#cb070dbce79a63ec7a379547253ca1a7"><span class="id" title="notation">&lt;&lt;&lt;</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.ltk"><span class="id" title="abbreviation">ltk</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements_aux"><span class="id" title="definition">elements_aux</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">l</span> <span class="id" title="var">Hl</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">Hr</span> <span class="id" title="var">h</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#InA_InfA"><span class="id" title="lemma">InA_InfA</span></a> (<span class="id" title="var">eqA</span> := <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.eqke"><span class="id" title="definition">PX.eqke</span></a>)); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.OrderedType.html#KeyOrderedType.eqke_Equiv"><span class="id" title="instance">KeyOrderedType.eqke_Equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">y'</span>,<span class="id" title="var">e'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_aux_mapsto"><span class="id" title="lemma">elements_aux_mapsto</span></a> <span class="id" title="var">r</span> <span class="id" title="var">acc</span> <span class="id" title="var">y'</span> <span class="id" title="var">e'</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">red</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">red</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> ((<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_aux_mapsto"><span class="id" title="lemma">elements_aux_mapsto</span></a> <span class="id" title="var">r</span> <span class="id" title="var">acc</span> <span class="id" title="var">x</span> <span class="id" title="var">e0</span>)) <span class="id" title="var">H7</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">transitivity</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.elements_sort"><span class="id" title="lemma">elements_sort</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.ltk"><span class="id" title="abbreviation">ltk</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_aux_sort"><span class="id" title="lemma">elements_aux_sort</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_sort"><span class="id" title="lemma">elements_sort</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.elements_nodup"><span class="id" title="lemma">elements_nodup</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.eqk"><span class="id" title="abbreviation">eqk</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Sort_NoDupA"><span class="id" title="lemma">PX.Sort_NoDupA</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.elements_aux_cardinal"><span class="id" title="lemma">elements_aux_cardinal</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">m</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) <span class="id" title="var">acc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.cardinal"><span class="id" title="definition">cardinal</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements_aux"><span class="id" title="definition">elements_aux</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.elements_cardinal"><span class="id" title="lemma">elements_cardinal</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">m</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>), <a class="idref" href="Containers.MapAVL.html#MapAVL.cardinal"><span class="id" title="definition">cardinal</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">m</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_aux_cardinal"><span class="id" title="lemma">elements_aux_cardinal</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.elements_app"><span class="id" title="lemma">elements_app</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) <span class="id" title="var">acc</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.elements_aux"><span class="id" title="definition">elements_aux</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs1</span>, <span class="id" title="var">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">IHs1</span>, <span class="id" title="var">IHs2</span>, &lt;- !<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#app_nil_end"><span class="id" title="lemma">app_nil_end</span></a>, !<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#app_ass"><span class="id" title="abbreviation">app_ass</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.elements_node"><span class="id" title="lemma">elements_node</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">z</span> <span class="id" title="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Containers.MapAVL.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_app"><span class="id" title="lemma">elements_app</span></a>, &lt;- !<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#app_nil_end"><span class="id" title="lemma">app_nil_end</span></a>, !<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#app_ass"><span class="id" title="abbreviation">app_ass</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab210"></a><h1 class="section">Fold</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.Proofs.fold'"><span class="id" title="definition">fold'</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>)(<span class="id" title="var">s</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.fold"><span class="id" title="definition">L.fold</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.fold_equiv_aux"><span class="id" title="lemma">fold_equiv_aux</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">s</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">acc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.fold"><span class="id" title="definition">L.fold</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements_aux"><span class="id" title="definition">elements_aux</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="Containers.MapAVL.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.fold"><span class="id" title="definition">L.fold</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#acc"><span class="id" title="variable">acc</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.fold"><span class="id" title="definition">fold</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.MapAVL.html#a"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.fold_equiv"><span class="id" title="lemma">fold_equiv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">s</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.fold"><span class="id" title="definition">fold</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.MapAVL.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.fold'"><span class="id" title="definition">fold'</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.MapAVL.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.fold'"><span class="id" title="definition">fold'</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <span class="id" title="tactic">in</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.fold_equiv_aux"><span class="id" title="lemma">fold_equiv_aux</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.fold_1"><span class="id" title="lemma">fold_1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">Hs</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>)(<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>)(<span class="id" title="var">i</span>:<a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>)(<span class="id" title="var">f</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.fold"><span class="id" title="definition">fold</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.MapAVL.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="Containers.MapAVL.html#958089bbde3710709508243fb6154391"><span class="id" title="notation">#1</span></a> <a class="idref" href="Containers.MapAVL.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="Containers.MapAVL.html#530f8ed31843cc030ef5c7c9bedb7689"><span class="id" title="notation">#2</span></a> <a class="idref" href="Containers.MapAVL.html#a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="Containers.MapAVL.html#i"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.fold_equiv"><span class="id" title="lemma">fold_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.fold'"><span class="id" title="definition">fold'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.fold_1"><span class="id" title="lemma">L.fold_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements"><span class="id" title="definition">L.elements</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab211"></a><h1 class="section">Comparison</h1>

<div class="paragraph"> </div>

 <span class="inlinecode"><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a></span> <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.e"><span class="id" title="variable">e</span></a></span> returns the list of elements of the enumeration <span class="inlinecode"><a class="idref" href="Containers.MapPositive.html#PositiveMap.A.FMapSpec.e"><span class="id" title="variable">e</span></a></span>
         i.e. the list of elements actually compared 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.enumeration"><span class="id" title="inductive">enumeration</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.End"><span class="id" title="constructor">End</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#MapAVL.More"><span class="id" title="constructor">More</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">t'</span> <span class="id" title="var">r</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <span class="id" title="var">t'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#flatten_e"><span class="id" title="definition">flatten_e</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.flatten_e_elements"><span class="id" title="lemma">flatten_e_elements</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">l</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">z</span> <span class="id" title="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.More"><span class="id" title="constructor">More</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Containers.MapAVL.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_node"><span class="id" title="lemma">elements_node</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.cons_1"><span class="id" title="lemma">cons_1</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>) <span class="id" title="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.cons"><span class="id" title="definition">cons</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e_elements"><span class="id" title="lemma">flatten_e_elements</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Proof of correction for the comparison 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a> <span class="id" title="var">b</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> := <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.equal"><span class="id" title="definition">L.equal</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Containers.MapAVL.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#b"><span class="id" title="variable">b</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.cons_IfEq"><span class="id" title="lemma">cons_IfEq</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">d1</span> <span class="id" title="var">d2</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x2"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#d1"><span class="id" title="variable">d1</span></a> <a class="idref" href="Containers.MapAVL.html#d2"><span class="id" title="variable">d2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a> <a class="idref" href="Containers.MapAVL.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Containers.MapAVL.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Containers.MapAVL.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a> <a class="idref" href="Containers.MapAVL.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x1"><span class="id" title="variable">x1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#d1"><span class="id" title="variable">d1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Containers.MapAVL.html#l1"><span class="id" title="variable">l1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x2"><span class="id" title="variable">x2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#d2"><span class="id" title="variable">d2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Containers.MapAVL.html#l2"><span class="id" title="variable">l2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.equal_end_IfEq"><span class="id" title="lemma">equal_end_IfEq</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.equal_end"><span class="id" title="definition">equal_end</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.equal_more_IfEq"><span class="id" title="lemma">equal_more_IfEq</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> (<span class="id" title="var">cont</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.enumeration"><span class="id" title="inductive">enumeration</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="var">e2</span> <span class="id" title="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a> (<a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.cons"><span class="id" title="definition">cons</span></a> <a class="idref" href="Containers.MapAVL.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>)) <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.equal_more"><span class="id" title="definition">equal_more</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="Containers.MapAVL.html#d1"><span class="id" title="variable">d1</span></a> <a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.More"><span class="id" title="constructor">More</span></a> <a class="idref" href="Containers.MapAVL.html#x2"><span class="id" title="variable">x2</span></a> <a class="idref" href="Containers.MapAVL.html#d2"><span class="id" title="variable">d2</span></a> <a class="idref" href="Containers.MapAVL.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x1"><span class="id" title="variable">x1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#d1"><span class="id" title="variable">d1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.More"><span class="id" title="constructor">More</span></a> <a class="idref" href="Containers.MapAVL.html#x2"><span class="id" title="variable">x2</span></a> <a class="idref" href="Containers.MapAVL.html#d2"><span class="id" title="variable">d2</span></a> <a class="idref" href="Containers.MapAVL.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Bool.Bool.html#andb_lazy_alt"><span class="id" title="lemma">Bool.andb_lazy_alt</span></a>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> <span class="id" title="var">d1</span> <span class="id" title="var">d2</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.equal_cont_IfEq"><span class="id" title="lemma">equal_cont_IfEq</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">cont</span> <span class="id" title="var">e2</span> <span class="id" title="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a> (<a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.equal_cont"><span class="id" title="definition">equal_cont</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m1</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">l1</span> <span class="id" title="var">Hl1</span> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> <span class="id" title="var">r1</span> <span class="id" title="var">Hr1</span> <span class="id" title="var">h1</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_node"><span class="id" title="lemma">elements_node</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hl1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e2</span>; <span class="id" title="tactic">intros</span> [|<span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="var">e2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.equal_more_IfEq"><span class="id" title="lemma">equal_more_IfEq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.cons_1"><span class="id" title="lemma">cons_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.equal_IfEq"><span class="id" title="lemma">equal_IfEq</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.IfEq"><span class="id" title="definition">IfEq</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.equal"><span class="id" title="definition">equal</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.equal"><span class="id" title="definition">equal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#app_nil_end"><span class="id" title="lemma">app_nil_end</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <span class="id" title="var">m1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <span class="id" title="var">m2</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.flatten_e"><span class="id" title="definition">flatten_e</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.cons"><span class="id" title="definition">cons</span></a> <span class="id" title="var">m2</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.End"><span class="id" title="constructor">End</span></a> <span class="id" title="var">_</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.cons_1"><span class="id" title="lemma">cons_1</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#app_nil_end"><span class="id" title="lemma">app_nil_end</span></a>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.equal_cont_IfEq"><span class="id" title="lemma">equal_cont_IfEq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.equal_end_IfEq"><span class="id" title="lemma">equal_end_IfEq</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapAVL.Proofs.Equivb"><span class="id" title="definition">Equivb</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">k</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.Equivb_elements"><span class="id" title="lemma">Equivb_elements</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Equivb"><span class="id" title="definition">Equivb</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.MapAVL.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Equivb"><span class="id" title="definition">L.Equivb</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#s'"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Equivb"><span class="id" title="definition">Equivb</span></a>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Equivb"><span class="id" title="definition">L.Equivb</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_in"><span class="id" title="lemma">elements_in</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H2</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_mapsto"><span class="id" title="lemma">elements_mapsto</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_in"><span class="id" title="lemma">elements_in</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H2</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo"><span class="id" title="definition">PX.MapsTo</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.elements_mapsto"><span class="id" title="lemma">elements_mapsto</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.equal_Equivb"><span class="id" title="lemma">equal_Equivb</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span> <span class="id" title="var">s'</span>: <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.elt"><span class="id" title="variable">elt</span></a>), <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#MapAVL.equal"><span class="id" title="definition">equal</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.MapAVL.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Equivb"><span class="id" title="definition">Equivb</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.MapAVL.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Equivb_elements"><span class="id" title="lemma">Equivb_elements</span></a>, &lt;- <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.equal_IfEq"><span class="id" title="lemma">equal_IfEq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.equal_2"><span class="id" title="lemma">L.equal_2</span></a>|<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.equal_1"><span class="id" title="lemma">L.equal_1</span></a>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Elt"><span class="id" title="section">Elt</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Proofs.Key.Map_"><span class="id" title="section">Map_</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map_.elt"><span class="id" title="variable">elt</span></a> <a name="MapAVL.Proofs.Key.Map_.elt'"><span class="id" title="variable">elt'</span></a> : <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map_.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_.elt'"><span class="id" title="variable">elt'</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map_1"><span class="id" title="lemma">map_1</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">m</span>: <a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_.elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a>)(<span class="id" title="var">e</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_.elt"><span class="id" title="variable">elt</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.map"><span class="id" title="definition">map</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map_2"><span class="id" title="lemma">map_2</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">m</span>: <a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_.elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map"><span class="id" title="definition">map</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map_bst"><span class="id" title="lemma">map_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map"><span class="id" title="definition">map</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_2"><span class="id" title="lemma">map_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_"><span class="id" title="section">Map_</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Proofs.Key.Mapi"><span class="id" title="section">Mapi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Mapi.elt"><span class="id" title="variable">elt</span></a> <a name="MapAVL.Proofs.Key.Mapi.elt'"><span class="id" title="variable">elt'</span></a> : <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Mapi.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Mapi.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Mapi.elt'"><span class="id" title="variable">elt'</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.mapi_1"><span class="id" title="lemma">mapi_1</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">m</span>: <a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Mapi.elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a>)(<span class="id" title="var">e</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Mapi.elt"><span class="id" title="variable">elt</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Mapi.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Mapi.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHm1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHm2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.mapi_2"><span class="id" title="lemma">mapi_2</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">m</span>: <a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Mapi.elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Mapi.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.mapi_bst"><span class="id" title="lemma">mapi_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Mapi.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.mapi_2"><span class="id" title="lemma">mapi_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Mapi"><span class="id" title="section">Mapi</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Proofs.Key.Map_option"><span class="id" title="section">Map_option</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map_option.elt"><span class="id" title="variable">elt</span></a> <a name="MapAVL.Proofs.Key.Map_option.elt'"><span class="id" title="variable">elt'</span></a> : <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.elt'"><span class="id" title="variable">elt'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MapAVL.Proofs.Key.Map_option.f_compat"><span class="id" title="variable">f_compat</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">d</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map_option_2"><span class="id" title="lemma">map_option_2</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">m</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_in"><span class="id" title="lemma">join_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|[<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f_compat"><span class="id" title="variable">f_compat</span></a> <span class="id" title="var">d</span> <span class="id" title="var">H</span>), <span class="id" title="var">e0</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHt</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">d0</span> &amp; ? &amp; ?); <span class="id" title="tactic">∃</span> <span class="id" title="var">d0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHt0</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">d0</span> &amp; ? &amp; ?); <span class="id" title="tactic">∃</span> <span class="id" title="var">d0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.concat_in"><span class="id" title="lemma">concat_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHt</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">d0</span> &amp; ? &amp; ?); <span class="id" title="tactic">∃</span> <span class="id" title="var">d0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHt0</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">d0</span> &amp; ? &amp; ?); <span class="id" title="tactic">∃</span> <span class="id" title="var">d0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map_option_bst"><span class="id" title="lemma">map_option_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="var">clearf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_bst"><span class="id" title="lemma">join_bst</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_2"><span class="id" title="lemma">map_option_2</span></a> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">d0</span> &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.concat_bst"><span class="id" title="lemma">concat_bst</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_2"><span class="id" title="lemma">map_option_2</span></a> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">d0</span> &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_2"><span class="id" title="lemma">map_option_2</span></a> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">d0'</span> &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_bst"><span class="id" title="lemma">map_option_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nonify</span> <span class="id" title="var">e</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span> (@<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.elt"><span class="id" title="variable">elt</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.not_find_iff"><span class="id" title="lemma">not_find_iff</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="var">order</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map_option_find"><span class="id" title="lemma">map_option_find</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">m</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">d</span> | <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>; <span class="id" title="var">clearf</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_find"><span class="id" title="lemma">join_find</span></a> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.concat_find"><span class="id" title="lemma">concat_find</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f_compat"><span class="id" title="variable">f_compat</span></a> <span class="id" title="var">d</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">H'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_2"><span class="id" title="lemma">map_option_2</span></a> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">H'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_2"><span class="id" title="lemma">map_option_2</span></a> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHt</span>, <span class="id" title="var">IHt0</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">nonify</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">r</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>, <span class="id" title="var">IHt0</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">nonify</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">r</span>); <span class="id" title="var">nonify</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">l</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f_compat"><span class="id" title="variable">f_compat</span></a> <span class="id" title="var">d</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHt0</span>, <span class="id" title="var">IHt</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">nonify</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">l</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x0</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map_option"><span class="id" title="definition">map_option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span>)); <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_2"><span class="id" title="lemma">map_option_2</span></a> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_2"><span class="id" title="lemma">map_option_2</span></a> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.MapsTo_In"><span class="id" title="lemma">MapsTo_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map_option"><span class="id" title="section">Map_option</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="MapAVL.Proofs.Key.t"><span class="id" title="variable">t</span></a> <span class="id" title="var">elt</span> := <a class="idref" href="Containers.MapAVL.html#MapAVL.tree"><span class="id" title="inductive">tree</span></a> (<span class="id" title="var">key</span>:= <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a>) <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Proofs.Key.Map2_opt"><span class="id" title="section">Map2_opt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map2_opt.elt"><span class="id" title="variable">elt</span></a> <a name="MapAVL.Proofs.Key.Map2_opt.elt'"><span class="id" title="variable">elt'</span></a> <a name="MapAVL.Proofs.Key.Map2_opt.elt''"><span class="id" title="variable">elt''</span></a> : <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt''"><span class="id" title="variable">elt''</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map2_opt.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt''"><span class="id" title="variable">elt''</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map2_opt.mapl"><span class="id" title="variable">mapl</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.t"><span class="id" title="variable">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.t"><span class="id" title="variable">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt''"><span class="id" title="variable">elt''</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map2_opt.mapr"><span class="id" title="variable">mapr</span></a> : <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.t"><span class="id" title="variable">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.t"><span class="id" title="variable">t</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt''"><span class="id" title="variable">elt''</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MapAVL.Proofs.Key.Map2_opt.f0_f"><span class="id" title="variable">f0_f</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">o</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="Containers.MapAVL.html#o"><span class="id" title="variable">o</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MapAVL.Proofs.Key.Map2_opt.mapl_bst"><span class="id" title="variable">mapl_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapl"><span class="id" title="variable">mapl</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MapAVL.Proofs.Key.Map2_opt.mapr_bst"><span class="id" title="variable">mapr_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m'</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapr"><span class="id" title="variable">mapr</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MapAVL.Proofs.Key.Map2_opt.mapl_f0"><span class="id" title="variable">mapl_f0</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapl"><span class="id" title="variable">mapl</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MapAVL.Proofs.Key.Map2_opt.mapr_f0"><span class="id" title="variable">mapr_f0</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">m'</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapr"><span class="id" title="variable">mapr</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d'</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d'</span>) | <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MapAVL.Proofs.Key.Map2_opt.f0_compat"><span class="id" title="variable">f0_compat</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">o</span> <span class="id" title="var">o'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="Containers.MapAVL.html#o'"><span class="id" title="variable">o'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a> <a class="idref" href="Containers.MapAVL.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="Containers.MapAVL.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="Containers.MapAVL.html#o'"><span class="id" title="variable">o'</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> := (<a class="idref" href="Containers.MapAVL.html#MapAVL.map2_opt"><span class="id" title="definition">map2_opt</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapl"><span class="id" title="variable">mapl</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapr"><span class="id" title="variable">mapr</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">factornode</span> <span class="id" title="var">_x0</span> <span class="id" title="var">_x1</span> <span class="id" title="var">_x2</span> <span class="id" title="var">_x3</span> <span class="id" title="var">_x4</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_1"><span class="id" title="lemma">split_in_1</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">H0</span> <span class="id" title="var">y</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_2"><span class="id" title="lemma">split_in_2</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">H0</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_bst"><span class="id" title="lemma">split_bst</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">H0</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> 3; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_in"><span class="id" title="lemma">find_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.in_find"><span class="id" title="lemma">in_find</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapr_bst"><span class="id" title="variable">mapr_bst</span></a> <span class="id" title="var">H0</span>) <span class="id" title="var">H1</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapr_f0"><span class="id" title="variable">mapr_f0</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m2</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">factornode</span> <span class="id" title="var">l1</span> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> <span class="id" title="var">r1</span> <span class="id" title="var">_x</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_in"><span class="id" title="lemma">find_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.in_find"><span class="id" title="lemma">in_find</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapl_bst"><span class="id" title="variable">mapl_bst</span></a> <span class="id" title="var">H</span>) <span class="id" title="var">H1</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapl_f0"><span class="id" title="variable">mapl_f0</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m1</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_in"><span class="id" title="lemma">join_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span>|[<span class="id" title="var">H'</span>|<span class="id" title="var">H'</span>]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHt2</span> <span class="id" title="var">y</span> <span class="id" title="var">H6</span> <span class="id" title="var">H4</span> <span class="id" title="var">H'</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHt0</span> <span class="id" title="var">y</span> <span class="id" title="var">H7</span> <span class="id" title="var">H5</span> <span class="id" title="var">H'</span>); <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.concat_in"><span class="id" title="lemma">concat_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span>|<span class="id" title="var">H'</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHt2</span> <span class="id" title="var">y</span> <span class="id" title="var">H6</span> <span class="id" title="var">H4</span> <span class="id" title="var">H'</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHt0</span> <span class="id" title="var">y</span> <span class="id" title="var">H7</span> <span class="id" title="var">H5</span> <span class="id" title="var">H'</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map2_opt_bst"><span class="id" title="lemma">map2_opt_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">factornode</span> <span class="id" title="var">_x0</span> <span class="id" title="var">_x1</span> <span class="id" title="var">_x2</span> <span class="id" title="var">_x3</span> <span class="id" title="var">_x4</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m2</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_1"><span class="id" title="lemma">split_in_1</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">H0</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_2"><span class="id" title="lemma">split_in_2</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">H0</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_bst"><span class="id" title="lemma">split_bst</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">H0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">destruct</span> 3.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_bst"><span class="id" title="lemma">join_bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">specialize</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">H6</span> <span class="id" title="var">Hy</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">specialize</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> <span class="id" title="var">H2</span> <span class="id" title="var">H7</span> <span class="id" title="var">Hy</span>); <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.concat_bst"><span class="id" title="lemma">concat_bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Hy'</span>; <span class="id" title="tactic">specialize</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">specialize</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">with</span> <span class="id" title="var">y'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">H6</span> <span class="id" title="var">Hy</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> <span class="id" title="var">H2</span> <span class="id" title="var">H7</span> <span class="id" title="var">Hy'</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_bst"><span class="id" title="lemma">map2_opt_bst</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">map2_aux</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> ?<span class="id" title="var">x</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H'</span> : <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">m'</span>, <span class="id" title="var">B</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> ?<span class="id" title="var">m</span>, <span class="id" title="var">B'</span>:<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> ?<span class="id" title="var">m'</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [ <span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.find_in_equiv"><span class="id" title="lemma">find_in_equiv</span></a> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> <span class="id" title="var">H'</span>); <span class="id" title="tactic">auto</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nonify</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> ?<span class="id" title="var">y</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> ?<span class="id" title="var">m</span> ?<span class="id" title="var">m'</span>)) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> (@<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.elt''"><span class="id" title="variable">elt''</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.not_find_iff"><span class="id" title="lemma">not_find_iff</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map2_opt_1"><span class="id" title="lemma">map2_opt_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">clearf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">factornode</span> <span class="id" title="var">_x0</span> <span class="id" title="var">_x1</span> <span class="id" title="var">_x2</span> <span class="id" title="var">_x3</span> <span class="id" title="var">_x4</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_1"><span class="id" title="lemma">split_in_1</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">H0</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_2"><span class="id" title="lemma">split_in_2</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">H0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_in_3"><span class="id" title="lemma">split_in_3</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">H0</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_bst"><span class="id" title="lemma">split_bst</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">H0</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_find"><span class="id" title="lemma">split_find</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">y</span> <span class="id" title="var">H0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_lt_tree"><span class="id" title="lemma">split_lt_tree</span></a> (<span class="id" title="var">x</span>:=<span class="id" title="var">x1</span>) <span class="id" title="var">H0</span>)(<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.split_gt_tree"><span class="id" title="lemma">split_gt_tree</span></a> (<span class="id" title="var">x</span>:=<span class="id" title="var">x1</span>) <span class="id" title="var">H0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">destruct</span> 4; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> @<a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">o2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H7</span>, ?<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.join_find"><span class="id" title="lemma">join_find</span></a>, ?<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.concat_find"><span class="id" title="lemma">concat_find</span></a>; <span class="id" title="tactic">auto</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; [ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H1</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapr_f0"><span class="id" title="variable">mapr_f0</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.in_find"><span class="id" title="lemma">in_find</span></a> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m2</span>); <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">factornode</span> <span class="id" title="var">l1</span> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> <span class="id" title="var">r1</span> <span class="id" title="var">_x</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; [ | <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H1</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.mapl_f0"><span class="id" title="variable">mapl_f0</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.in_find"><span class="id" title="lemma">in_find</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m1</span>); <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt2</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">map2_aux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0_compat"><span class="id" title="variable">f0_compat</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x1</span>), &lt;- <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0_f"><span class="id" title="variable">f0_f</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt0</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">map2_aux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">destruct</span> (@<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2'</span> <span class="id" title="var">z</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">destruct</span> (@<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> <span class="id" title="var">r1</span> <span class="id" title="var">r2'</span> <span class="id" title="var">z</span>); <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nonify</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> <span class="id" title="var">r1</span> <span class="id" title="var">r2'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt2</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">map2_aux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nonify</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> <span class="id" title="var">r1</span> <span class="id" title="var">r2'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nonify</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0_compat"><span class="id" title="variable">f0_compat</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x1</span>), &lt;- <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0_f"><span class="id" title="variable">f0_f</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nonify</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt"><span class="id" title="abbreviation">map2_opt</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt0</span>; <span class="id" title="tactic">auto</span>; [ | <span class="id" title="var">map2_aux</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt.f0"><span class="id" title="variable">f0</span></a> <span class="id" title="var">y</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">r1</span>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">r2'</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span> <span class="id" title="var">Hy1</span> <span class="id" title="var">Hy2</span>; <span class="id" title="tactic">transitivity</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2'</span> <span class="id" title="var">y1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> <span class="id" title="var">r1</span> <span class="id" title="var">r2'</span> <span class="id" title="var">y2</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2_opt"><span class="id" title="section">Map2_opt</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MapAVL.Proofs.Key.Map2"><span class="id" title="section">Map2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map2.elt"><span class="id" title="variable">elt</span></a> <a name="MapAVL.Proofs.Key.Map2.elt'"><span class="id" title="variable">elt'</span></a> <a name="MapAVL.Proofs.Key.Map2.elt''"><span class="id" title="variable">elt''</span></a> : <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MapAVL.Proofs.Key.Map2.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2.elt''"><span class="id" title="variable">elt''</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map2_bst"><span class="id" title="lemma">map2_bst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.map2"><span class="id" title="definition">map2</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_bst"><span class="id" title="lemma">map2_opt_bst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2.f"><span class="id" title="variable">f</span></a>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_bst"><span class="id" title="lemma">map_option_bst</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_find"><span class="id" title="lemma">map_option_find</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map2_1"><span class="id" title="lemma">map2_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) (<a class="idref" href="Containers.MapAVL.html#MapAVL.find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.map2"><span class="id" title="definition">map2</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_1"><span class="id" title="lemma">map2_opt_1</span></a> (<span class="id" title="var">f0</span>:=<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2.f"><span class="id" title="variable">f</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_bst"><span class="id" title="lemma">map_option_bst</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_find"><span class="id" title="lemma">map_option_find</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapAVL.Proofs.map2_2"><span class="id" title="lemma">map2_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.bst"><span class="id" title="inductive">bst</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#MapAVL.map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#MapAVL.In"><span class="id" title="inductive">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.map2"><span class="id" title="definition">map2</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map2_opt_2"><span class="id" title="lemma">map2_opt_2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f0</span>:=<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2.f"><span class="id" title="variable">f</span></a>); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_bst"><span class="id" title="lemma">map_option_bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_bst"><span class="id" title="lemma">map_option_bst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_find"><span class="id" title="lemma">map_option_find</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.map_option_find"><span class="id" title="lemma">map_option_find</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key.Map2"><span class="id" title="section">Map2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs.Key"><span class="id" title="section">Key</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL.Proofs"><span class="id" title="module">Proofs</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#MapAVL"><span class="id" title="module">MapAVL</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab212"></a><h1 class="section">Encapsulation</h1>


<div class="paragraph"> </div>

   Now, in order to really provide an instance of <span class="inlinecode"><a class="idref" href="Containers.MapInterface.html#FMap"><span class="id" title="record">FMap</span></a></span>], we
   need to encapsulate everything into a type of balanced binary
   search trees. 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a name="Raw"><span class="id" title="module">Raw</span></a> := <a class="idref" href="Containers.MapAVL.html#MapAVL"><span class="id" title="module">MapAVL</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Raw.Proofs</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Encapsulation"><span class="id" title="section">Encapsulation</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">key_OT</span> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">key</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="dict"><span class="id" title="record">dict</span></a> (<span class="id" title="var">elt</span>:<span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Bst"><span class="id" title="constructor">Bst</span></a> {<a name="this"><span class="id" title="projection">this</span></a> :&gt; <a class="idref" href="Containers.MapAVL.html#tree"><span class="id" title="inductive">Raw.tree</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>; <a name="is_bst"><span class="id" title="projection">is_bst</span></a> : <a class="idref" href="Containers.MapAVL.html#bst"><span class="id" title="inductive">Raw.bst</span></a> <a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="method">this</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="t"><span class="id" title="definition">t</span></a> := <a class="idref" href="Containers.MapAVL.html#dict"><span class="id" title="record">dict</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Encapsulation.Elt"><span class="id" title="section">Elt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <a name="Encapsulation.Elt.elt'"><span class="id" title="variable">elt'</span></a> <a name="Encapsulation.Elt.elt''"><span class="id" title="variable">elt''</span></a>: <span class="id" title="keyword">Type</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="empty"><span class="id" title="definition">empty</span></a> : <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> := <a class="idref" href="Containers.MapAVL.html#Bst"><span class="id" title="constructor">Bst</span></a> (<a class="idref" href="Containers.MapAVL.html#empty_bst"><span class="id" title="lemma">empty_bst</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_empty"><span class="id" title="definition">is_empty</span></a> <span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="Containers.MapAVL.html#is_empty"><span class="id" title="definition">Raw.is_empty</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="add"><span class="id" title="definition">add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> := <a class="idref" href="Containers.MapAVL.html#Bst"><span class="id" title="constructor">Bst</span></a> (<a class="idref" href="Containers.MapAVL.html#add_bst"><span class="id" title="lemma">add_bst</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="insert"><span class="id" title="definition">insert</span></a> <span class="id" title="var">x</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> := <a class="idref" href="Containers.MapAVL.html#Bst"><span class="id" title="constructor">Bst</span></a> (<a class="idref" href="Containers.MapAVL.html#insert_bst"><span class="id" title="lemma">insert_bst</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="adjust"><span class="id" title="definition">adjust</span></a> <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> := <a class="idref" href="Containers.MapAVL.html#Bst"><span class="id" title="constructor">Bst</span></a> (<a class="idref" href="Containers.MapAVL.html#adjust_bst"><span class="id" title="lemma">adjust_bst</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="remove"><span class="id" title="definition">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> := <a class="idref" href="Containers.MapAVL.html#Bst"><span class="id" title="constructor">Bst</span></a> (<a class="idref" href="Containers.MapAVL.html#remove_bst"><span class="id" title="lemma">remove_bst</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mem"><span class="id" title="definition">mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="Containers.MapAVL.html#mem"><span class="id" title="definition">Raw.mem</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> := <a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">Raw.find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="map"><span class="id" title="definition">map</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt'"><span class="id" title="variable">elt'</span></a> := <a class="idref" href="Containers.MapAVL.html#Bst"><span class="id" title="constructor">Bst</span></a> (<a class="idref" href="Containers.MapAVL.html#map_bst"><span class="id" title="lemma">map_bst</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="var">f</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt'"><span class="id" title="variable">elt'</span></a>) <span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt'"><span class="id" title="variable">elt'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#Bst"><span class="id" title="constructor">Bst</span></a> (<a class="idref" href="Containers.MapAVL.html#mapi_bst"><span class="id" title="lemma">mapi_bst</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="map2"><span class="id" title="definition">map2</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> (<span class="id" title="var">m'</span>:<a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt'"><span class="id" title="variable">elt'</span></a>) : <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt''"><span class="id" title="variable">elt''</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#Bst"><span class="id" title="constructor">Bst</span></a> (<a class="idref" href="Containers.MapAVL.html#map2_bst"><span class="id" title="lemma">map2_bst</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>) <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="elements"><span class="id" title="definition">elements</span></a> <span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a>) := <a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">Raw.elements</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="cardinal"><span class="id" title="definition">cardinal</span></a> <span class="id" title="var">m</span> := <a class="idref" href="Containers.MapAVL.html#cardinal"><span class="id" title="definition">Raw.cardinal</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="fold"><span class="id" title="definition">fold</span></a> (<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">m</span> <span class="id" title="var">i</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#fold"><span class="id" title="definition">Raw.fold</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>) <a class="idref" href="Containers.MapAVL.html#i"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="equal"><span class="id" title="definition">equal</span></a> <span class="id" title="var">cmp</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="Containers.MapAVL.html#equal"><span class="id" title="definition">Raw.equal</span></a> <a class="idref" href="Containers.MapAVL.html#cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>) <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MapsTo"><span class="id" title="definition">MapsTo</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span> : <span class="id" title="keyword">Prop</span> := <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="inductive">Raw.MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> : <span class="id" title="keyword">Prop</span> := <a class="idref" href="Containers.MapAVL.html#In0"><span class="id" title="definition">Raw.In0</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Empty"><span class="id" title="definition">Empty</span></a> <span class="id" title="var">m</span> : <span class="id" title="keyword">Prop</span> := <a class="idref" href="Containers.MapAVL.html#Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="eq_key"><span class="id" title="definition">eq_key</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> := @<a class="idref" href="Containers.MapAVL.html#eqk"><span class="id" title="definition">PX.eqk</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> := @<a class="idref" href="Containers.MapAVL.html#eqke"><span class="id" title="definition">PX.eqke</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="lt_key"><span class="id" title="definition">lt_key</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> := @<a class="idref" href="Containers.MapAVL.html#ltk"><span class="id" title="definition">PX.ltk</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MapsTo_1"><span class="id" title="lemma">MapsTo_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#MapsTo_1"><span class="id" title="lemma">MapsTo_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mem_1"><span class="id" title="lemma">mem_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a>, <a class="idref" href="Containers.MapAVL.html#mem"><span class="id" title="definition">mem</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#mem_1"><span class="id" title="lemma">mem_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mem_2"><span class="id" title="lemma">mem_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>, <a class="idref" href="Containers.MapAVL.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a>, <a class="idref" href="Containers.MapAVL.html#mem"><span class="id" title="definition">mem</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#mem_2"><span class="id" title="lemma">mem_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="empty_1"><span class="id" title="lemma">empty_1</span></a> : <a class="idref" href="Containers.MapAVL.html#Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Containers.MapAVL.html#empty"><span class="id" title="definition">empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#empty_1"><span class="id" title="lemma">empty_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="is_empty_1"><span class="id" title="lemma">is_empty_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#is_empty"><span class="id" title="definition">is_empty</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#is_empty_1"><span class="id" title="lemma">is_empty_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="is_empty_2"><span class="id" title="lemma">is_empty_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#is_empty"><span class="id" title="definition">is_empty</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#is_empty_2"><span class="id" title="lemma">is_empty_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="add_1"><span class="id" title="lemma">add_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#add_1"><span class="id" title="lemma">add_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a>  <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>). <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="add_2"><span class="id" title="lemma">add_2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#add_2"><span class="id" title="lemma">add_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>). <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="add_3"><span class="id" title="lemma">add_3</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#add_3"><span class="id" title="lemma">add_3</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="insert_1"><span class="id" title="lemma">insert_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="Containers.MapAVL.html#insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#insert_1"><span class="id" title="lemma">insert_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="insert_2"><span class="id" title="lemma">insert_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> (<a class="idref" href="Containers.MapAVL.html#insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="Containers.MapAVL.html#insert_2"><span class="id" title="lemma">insert_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="insert_3"><span class="id" title="lemma">insert_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#insert_3"><span class="id" title="lemma">insert_3</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="insert_4"><span class="id" title="lemma">insert_4</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#insert_4"><span class="id" title="lemma">insert_4</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="adjust_1"><span class="id" title="lemma">adjust_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="Containers.MapAVL.html#adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#adjust_1"><span class="id" title="lemma">adjust_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="adjust_2"><span class="id" title="lemma">adjust_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#adjust_2"><span class="id" title="lemma">adjust_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="adjust_3"><span class="id" title="lemma">adjust_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#adjust"><span class="id" title="definition">adjust</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#adjust_3"><span class="id" title="lemma">adjust_3</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="remove_1"><span class="id" title="lemma">remove_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="Containers.MapAVL.html#remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a>, <a class="idref" href="Containers.MapAVL.html#remove"><span class="id" title="definition">remove</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#remove_1"><span class="id" title="lemma">remove_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="remove_2"><span class="id" title="lemma">remove_2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#33471b3c07b8c993b143742ff5232799"><span class="id" title="notation">=/=</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#remove_2"><span class="id" title="lemma">remove_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="remove_3"><span class="id" title="lemma">remove_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Containers.MapAVL.html#remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#remove_3"><span class="id" title="lemma">remove_3</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="find_1"><span class="id" title="lemma">find_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#find_1"><span class="id" title="lemma">find_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="find_2"><span class="id" title="lemma">find_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#find_2"><span class="id" title="lemma">find_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fold_1"><span class="id" title="lemma">fold_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">i</span> : <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#fold"><span class="id" title="definition">fold</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Containers.MapAVL.html#p"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Containers.MapAVL.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="Containers.MapAVL.html#a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="Containers.MapAVL.html#i"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#fold_1"><span class="id" title="lemma">fold_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>) <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="elements_1"><span class="id" title="lemma">elements_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="Containers.MapAVL.html#eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a>, <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a>, <a class="idref" href="Containers.MapAVL.html#eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#elements_mapsto"><span class="id" title="lemma">elements_mapsto</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="elements_2"><span class="id" title="lemma">elements_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="Containers.MapAVL.html#eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a>, <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a>, <a class="idref" href="Containers.MapAVL.html#eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#elements_mapsto"><span class="id" title="lemma">elements_mapsto</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="elements_3"><span class="id" title="lemma">elements_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="Containers.MapAVL.html#lt_key"><span class="id" title="definition">lt_key</span></a> (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#elements_sort"><span class="id" title="lemma">elements_sort</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>) <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="elements_3w"><span class="id" title="lemma">elements_3w</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="Containers.MapAVL.html#eq_key"><span class="id" title="definition">eq_key</span></a> (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#elements_nodup"><span class="id" title="lemma">elements_nodup</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>) <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="cardinal_1"><span class="id" title="lemma">cardinal_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="Containers.MapAVL.html#cardinal"><span class="id" title="definition">cardinal</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#elements_cardinal"><span class="id" title="lemma">elements_cardinal</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Equal"><span class="id" title="definition">Equal</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> := <span class="id" title="keyword">∀</span> <span class="id" title="var">y</span>, <a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Equiv"><span class="id" title="definition">Equiv</span></a> (<span class="id" title="var">eq_elt</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>) <span class="id" title="var">m</span> <span class="id" title="var">m'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">k</span>, <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>, <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#eq_elt"><span class="id" title="variable">eq_elt</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Equivb"><span class="id" title="definition">Equivb</span></a> <span class="id" title="var">cmp</span> := <a class="idref" href="Containers.MapAVL.html#Equiv"><span class="id" title="definition">Equiv</span></a> (<a class="idref" href="Containers.MapInterface.html#Cmp"><span class="id" title="definition">Cmp</span></a> <a class="idref" href="Containers.MapAVL.html#cmp"><span class="id" title="variable">cmp</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Equivb_Equivb"><span class="id" title="lemma">Equivb_Equivb</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">cmp</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#Equivb"><span class="id" title="definition">Equivb</span></a> <a class="idref" href="Containers.MapAVL.html#cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#Equivb"><span class="id" title="definition">Raw.Proofs.Equivb</span></a> <a class="idref" href="Containers.MapAVL.html#cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#Equivb"><span class="id" title="definition">Equivb</span></a>, <a class="idref" href="Containers.MapAVL.html#Equiv"><span class="id" title="definition">Equiv</span></a>, <a class="idref" href="Containers.MapAVL.html#Equivb"><span class="id" title="definition">Raw.Proofs.Equivb</span></a>, <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="equal_1"><span class="id" title="lemma">equal_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">cmp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#Equivb"><span class="id" title="definition">Equivb</span></a> <a class="idref" href="Containers.MapAVL.html#cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#equal"><span class="id" title="definition">equal</span></a> <a class="idref" href="Containers.MapAVL.html#cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#equal"><span class="id" title="definition">equal</span></a>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">m</span>,<span class="id" title="var">b</span>) (<span class="id" title="var">m'</span>,<span class="id" title="var">b'</span>) <span class="id" title="var">cmp</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#Equivb_Equivb"><span class="id" title="lemma">Equivb_Equivb</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#equal_Equivb"><span class="id" title="lemma">equal_Equivb</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="equal_2"><span class="id" title="lemma">equal_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">cmp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#equal"><span class="id" title="definition">equal</span></a> <a class="idref" href="Containers.MapAVL.html#cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#Equivb"><span class="id" title="definition">Equivb</span></a> <a class="idref" href="Containers.MapAVL.html#cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#equal"><span class="id" title="definition">equal</span></a>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">m</span>,<span class="id" title="var">b</span>) (<span class="id" title="var">m'</span>,<span class="id" title="var">b'</span>) <span class="id" title="var">cmp</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#Equivb_Equivb"><span class="id" title="lemma">Equivb_Equivb</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="Containers.MapAVL.html#equal_Equivb"><span class="id" title="lemma">equal_Equivb</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation.Elt"><span class="id" title="section">Elt</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_1"><span class="id" title="lemma">map_1</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">elt</span> <span class="id" title="var">elt'</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">m</span>: <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a>)(<span class="id" title="var">e</span>:<a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">f</span>:<a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="Containers.MapAVL.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#map_1"><span class="id" title="lemma">map_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_2"><span class="id" title="lemma">map_2</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">elt</span> <span class="id" title="var">elt'</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">m</span>:<a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a>)(<span class="id" title="var">f</span>:<a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#map_2"><span class="id" title="lemma">map_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mapi_1"><span class="id" title="lemma">mapi_1</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">elt</span> <span class="id" title="var">elt'</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">m</span>: <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a>)(<span class="id" title="var">e</span>:<a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a>), <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="Containers.MapAVL.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">exact</span> (@<a class="idref" href="Containers.MapAVL.html#mapi_1"><span class="id" title="lemma">mapi_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> <span class="id" title="var">f</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#this"><span class="id" title="projection">this</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mapi_2"><span class="id" title="lemma">mapi_2</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">elt</span> <span class="id" title="var">elt'</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">m</span>: <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a>), <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#mapi_2"><span class="id" title="lemma">mapi_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map2_1"><span class="id" title="lemma">map2_1</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> <span class="id" title="var">elt''</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">m</span>: <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">m'</span>: <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a>)(<span class="id" title="var">f</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#elt''"><span class="id" title="variable">elt''</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) (<a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">find</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#find"><span class="id" title="definition">find</span></a>, <a class="idref" href="Containers.MapAVL.html#map2"><span class="id" title="definition">map2</span></a>, <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> <span class="id" title="var">elt''</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#map2_1"><span class="id" title="lemma">map2_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">m'</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map2_2"><span class="id" title="lemma">map2_2</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> <span class="id" title="var">elt''</span>:<span class="id" title="keyword">Type</span>)(<span class="id" title="var">m</span>: <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>)(<span class="id" title="var">m'</span>: <a class="idref" href="Containers.MapAVL.html#t"><span class="id" title="definition">t</span></a> <a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span>:<a class="idref" href="Containers.MapAVL.html#Encapsulation.key"><span class="id" title="variable">key</span></a>)(<span class="id" title="var">f</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#elt'"><span class="id" title="variable">elt'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Containers.MapAVL.html#elt''"><span class="id" title="variable">elt''</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Containers.MapAVL.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="Containers.MapAVL.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Containers.MapAVL.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#In"><span class="id" title="definition">In</span></a>, <a class="idref" href="Containers.MapAVL.html#map2"><span class="id" title="definition">map2</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">elt</span> <span class="id" title="var">elt'</span> <span class="id" title="var">elt''</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#In_alt"><span class="id" title="lemma">In_alt</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eapply</span> <a class="idref" href="Containers.MapAVL.html#map2_2"><span class="id" title="lemma">map2_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">m</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">m'</span>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#Encapsulation"><span class="id" title="section">Encapsulation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="EncapsulationOrd"><span class="id" title="section">EncapsulationOrd</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">key_OT</span> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">key</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">elt_OT</span> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <span class="id" title="var">elt</span>}.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="EncapsulationOrd.t"><span class="id" title="variable">t</span></a> := @<a class="idref" href="Containers.MapAVL.html#dict"><span class="id" title="record">dict</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key_OT"><span class="id" title="variable">key_OT</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="cmp"><span class="id" title="definition">cmp</span></a> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <a class="idref" href="Containers.MapAVL.html#e'"><span class="id" title="variable">e'</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="EncapsulationOrd.enumeration"><span class="id" title="variable">enumeration</span></a> <span class="id" title="var">elt</span> := @<a class="idref" href="Containers.MapAVL.html#enumeration"><span class="id" title="inductive">Raw.enumeration</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a> <a class="idref" href="Containers.MapAVL.html#elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
</div>

<div class="doc">
One step of comparison of elements 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="compare_more"><span class="id" title="definition">compare_more</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> (<span class="id" title="var">cont</span>:<a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.enumeration"><span class="id" title="variable">enumeration</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#comparison"><span class="id" title="inductive">comparison</span></a>) <span class="id" title="var">e2</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#End"><span class="id" title="constructor">Raw.End</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#More"><span class="id" title="constructor">Raw.More</span></a> <span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="var">e2</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">x2</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#d1"><span class="id" title="variable">d1</span></a> <a class="idref" href="Containers.OrderedType.html#f4e8a74d0485b5ff492bfb149f175bff"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">d2</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> (<a class="idref" href="Containers.MapAVL.html#cons"><span class="id" title="definition">Raw.cons</span></a> <span class="id" title="var">r2</span> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Comparison of left tree, middle element, then right tree 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="compare_cont"><span class="id" title="definition">compare_cont</span></a> <span class="id" title="var">s1</span> (<span class="id" title="var">cont</span>:<a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.enumeration"><span class="id" title="variable">enumeration</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#comparison"><span class="id" title="inductive">comparison</span></a>) <span class="id" title="var">e2</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#s1"><span class="id" title="variable">s1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#Leaf"><span class="id" title="constructor">Raw.Leaf</span></a> ⇒ <a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Containers.MapAVL.html#Node"><span class="id" title="constructor">Raw.Node</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> <span class="id" title="var">r1</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#compare_cont"><span class="id" title="definition">compare_cont</span></a> <span class="id" title="var">l1</span> (<a class="idref" href="Containers.MapAVL.html#compare_more"><span class="id" title="definition">compare_more</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> (<a class="idref" href="Containers.MapAVL.html#compare_cont"><span class="id" title="definition">compare_cont</span></a> <span class="id" title="var">r1</span> <a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a>)) <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Initial continuation 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="compare_end"><span class="id" title="definition">compare_end</span></a> (<span class="id" title="var">e2</span>:<a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.enumeration"><span class="id" title="variable">enumeration</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="Containers.MapAVL.html#End"><span class="id" title="constructor">Raw.End</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The complete comparison 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="compare_pure"><span class="id" title="definition">compare_pure</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> :=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#compare_cont"><span class="id" title="definition">compare_cont</span></a> <a class="idref" href="Containers.MapAVL.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="Containers.MapAVL.html#compare_end"><span class="id" title="definition">compare_end</span></a> (<a class="idref" href="Containers.MapAVL.html#cons"><span class="id" title="definition">Raw.cons</span></a> <a class="idref" href="Containers.MapAVL.html#s2"><span class="id" title="variable">s2</span></a> (<a class="idref" href="Containers.MapAVL.html#End"><span class="id" title="constructor">Raw.End</span></a> <span class="id" title="var">_</span>)).<br/>

<br/>
</div>

<div class="doc">
Correctness of this comparison 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">OrderedTypeEx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Cmp"><span class="id" title="definition">Cmp</span></a> <span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Containers.MapAVL.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ @<a class="idref" href="Containers.OrderedTypeEx.html#list_eq"><span class="id" title="inductive">list_eq</span></a> (<a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a>) (<a class="idref" href="Containers.OrderedTypeEx.html#prod_eq"><span class="id" title="inductive">prod_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ @<a class="idref" href="Containers.OrderedTypeEx.html#list_lt"><span class="id" title="inductive">list_lt</span></a> (<a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a>) (<a class="idref" href="Containers.OrderedTypeEx.html#prod_lt"><span class="id" title="inductive">prod_lt</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_lt"><span class="id" title="method">_lt</span></a> <a class="idref" href="Containers.OrderedType.html#_lt"><span class="id" title="method">_lt</span></a>) (<a class="idref" href="Containers.OrderedTypeEx.html#prod_eq"><span class="id" title="inductive">prod_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ (<span class="id" title="keyword">fun</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> ⇒ @<a class="idref" href="Containers.OrderedTypeEx.html#list_lt"><span class="id" title="inductive">list_lt</span></a> (<a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.OrderedTypeEx.html#prod_lt"><span class="id" title="inductive">prod_lt</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_lt"><span class="id" title="method">_lt</span></a> <a class="idref" href="Containers.OrderedType.html#_lt"><span class="id" title="method">_lt</span></a>) (<a class="idref" href="Containers.OrderedTypeEx.html#prod_eq"><span class="id" title="inductive">prod_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>) <a class="idref" href="Containers.MapAVL.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Containers.MapAVL.html#l1"><span class="id" title="variable">l1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="cons_Cmp"><span class="id" title="lemma">cons_Cmp</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">c</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">d1</span> <span class="id" title="var">d2</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#x2"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#d1"><span class="id" title="variable">d1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#d2"><span class="id" title="variable">d2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#Cmp"><span class="id" title="definition">Cmp</span></a> <a class="idref" href="Containers.MapAVL.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Containers.MapAVL.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Containers.MapAVL.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#Cmp"><span class="id" title="definition">Cmp</span></a> <a class="idref" href="Containers.MapAVL.html#c"><span class="id" title="variable">c</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x1"><span class="id" title="variable">x1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#d1"><span class="id" title="variable">d1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Containers.MapAVL.html#l1"><span class="id" title="variable">l1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x2"><span class="id" title="variable">x2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#d2"><span class="id" title="variable">d2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Containers.MapAVL.html#l2"><span class="id" title="variable">l2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 3; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 3; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="Containers.MapAVL.html#cons_Cmp"><span class="id" title="lemma">cons_Cmp</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="compare_end_Cmp"><span class="id" title="lemma">compare_end_Cmp</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">e2</span>, <a class="idref" href="Containers.MapAVL.html#Cmp"><span class="id" title="definition">Cmp</span></a> (<a class="idref" href="Containers.MapAVL.html#compare_end"><span class="id" title="definition">compare_end</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (@<a class="idref" href="Containers.MapAVL.html#flatten_e"><span class="id" title="definition">flatten_e</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="compare_more_Cmp"><span class="id" title="lemma">compare_more_Cmp</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> <span class="id" title="var">cont</span> <span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="var">e2</span> <span class="id" title="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#Cmp"><span class="id" title="definition">Cmp</span></a> (<a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> (<a class="idref" href="Containers.MapAVL.html#cons"><span class="id" title="definition">Raw.cons</span></a> <a class="idref" href="Containers.MapAVL.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>)) <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">Raw.elements</span></a> <a class="idref" href="Containers.MapAVL.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#flatten_e"><span class="id" title="definition">flatten_e</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#Cmp"><span class="id" title="definition">Cmp</span></a> (<a class="idref" href="Containers.MapAVL.html#compare_more"><span class="id" title="definition">compare_more</span></a> <a class="idref" href="Containers.MapAVL.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="Containers.MapAVL.html#d1"><span class="id" title="variable">d1</span></a> <a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> (<a class="idref" href="Containers.MapAVL.html#More"><span class="id" title="constructor">Raw.More</span></a> <a class="idref" href="Containers.MapAVL.html#x2"><span class="id" title="variable">x2</span></a> <a class="idref" href="Containers.MapAVL.html#d2"><span class="id" title="variable">d2</span></a> <a class="idref" href="Containers.MapAVL.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#x1"><span class="id" title="variable">x1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Containers.MapAVL.html#d1"><span class="id" title="variable">d1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#flatten_e"><span class="id" title="definition">flatten_e</span></a> (<a class="idref" href="Containers.MapAVL.html#More"><span class="id" title="constructor">Raw.More</span></a> <a class="idref" href="Containers.MapAVL.html#x2"><span class="id" title="variable">x2</span></a> <a class="idref" href="Containers.MapAVL.html#d2"><span class="id" title="variable">d2</span></a> <a class="idref" href="Containers.MapAVL.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.OrderedType.html#compare_dec"><span class="id" title="definition">compare_dec</span></a> <span class="id" title="var">d1</span> <span class="id" title="var">d2</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">constructor</span> 2; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">constructor</span> 2; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="compare_cont_Cmp"><span class="id" title="lemma">compare_cont_Cmp</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s1</span> <span class="id" title="var">cont</span> <span class="id" title="var">e2</span> <span class="id" title="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">e</span>, <a class="idref" href="Containers.MapAVL.html#Cmp"><span class="id" title="definition">Cmp</span></a> (<a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Containers.MapAVL.html#flatten_e"><span class="id" title="definition">flatten_e</span></a> <a class="idref" href="Containers.MapAVL.html#e"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#Cmp"><span class="id" title="definition">Cmp</span></a> (<a class="idref" href="Containers.MapAVL.html#compare_cont"><span class="id" title="definition">compare_cont</span></a> <a class="idref" href="Containers.MapAVL.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="Containers.MapAVL.html#cont"><span class="id" title="variable">cont</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>) (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">Raw.elements</span></a> <a class="idref" href="Containers.MapAVL.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Containers.MapAVL.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Containers.MapAVL.html#flatten_e"><span class="id" title="definition">flatten_e</span></a> <a class="idref" href="Containers.MapAVL.html#e2"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s1</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">l1</span> <span class="id" title="var">Hl1</span> <span class="id" title="var">x1</span> <span class="id" title="var">d1</span> <span class="id" title="var">r1</span> <span class="id" title="var">Hr1</span> <span class="id" title="var">h1</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#elements_node"><span class="id" title="lemma">elements_node</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hl1</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">intros</span> [|<span class="id" title="var">x2</span> <span class="id" title="var">d2</span> <span class="id" title="var">r2</span> <span class="id" title="var">e2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#compare_more_Cmp"><span class="id" title="lemma">compare_more_Cmp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Containers.MapAVL.html#cons_1"><span class="id" title="lemma">cons_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="compare_Cmp"><span class="id" title="lemma">compare_Cmp</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapAVL.html#Cmp"><span class="id" title="definition">Cmp</span></a> (<a class="idref" href="Containers.MapAVL.html#compare_pure"><span class="id" title="definition">compare_pure</span></a> <a class="idref" href="Containers.MapAVL.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="Containers.MapAVL.html#s2"><span class="id" title="variable">s2</span></a>) (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">Raw.elements</span></a> <a class="idref" href="Containers.MapAVL.html#s1"><span class="id" title="variable">s1</span></a>) (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">Raw.elements</span></a> <a class="idref" href="Containers.MapAVL.html#s2"><span class="id" title="variable">s2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#compare_pure"><span class="id" title="definition">compare_pure</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#app_nil_end"><span class="id" title="lemma">app_nil_end</span></a> (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">Raw.elements</span></a> <span class="id" title="var">s1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">Raw.elements</span></a> <span class="id" title="var">s2</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Containers.MapAVL.html#flatten_e"><span class="id" title="definition">flatten_e</span></a> (<a class="idref" href="Containers.MapAVL.html#cons"><span class="id" title="definition">Raw.cons</span></a> <span class="id" title="var">s2</span> (<a class="idref" href="Containers.MapAVL.html#End"><span class="id" title="constructor">Raw.End</span></a> <span class="id" title="var">_</span>))) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#cons_1"><span class="id" title="lemma">cons_1</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#app_nil_end"><span class="id" title="lemma">app_nil_end</span></a>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Containers.MapAVL.html#compare_cont_Cmp"><span class="id" title="lemma">compare_cont_Cmp</span></a>, <a class="idref" href="Containers.MapAVL.html#compare_end_Cmp"><span class="id" title="lemma">compare_end_Cmp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The dependent-style <span class="inlinecode"><a class="idref" href="Containers.CMapPositive.html#PositiveOrderedTypeBitsInstance.compare"><span class="id" title="definition">compare</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="eq"><span class="id" title="definition">eq</span></a> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Containers.OrderedTypeEx.html#list_eq"><span class="id" title="inductive">list_eq</span></a> (<a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a>) (<a class="idref" href="Containers.OrderedTypeEx.html#prod_eq"><span class="id" title="inductive">prod_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>) (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="lt"><span class="id" title="definition">lt</span></a> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Containers.OrderedTypeEx.html#list_lt"><span class="id" title="inductive">list_lt</span></a> (<a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a>) (<a class="idref" href="Containers.OrderedTypeEx.html#prod_lt"><span class="id" title="inductive">prod_lt</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_lt"><span class="id" title="method">_lt</span></a> <a class="idref" href="Containers.OrderedType.html#_lt"><span class="id" title="method">_lt</span></a>) (<a class="idref" href="Containers.OrderedTypeEx.html#prod_eq"><span class="id" title="inductive">prod_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> <a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="selements"><span class="id" title="definition">selements</span></a> (<span class="id" title="var">m1</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapList.html#Build_dict"><span class="id" title="constructor">MapList.Build_dict</span></a> (<a class="idref" href="Containers.MapAVL.html#elements_sort"><span class="id" title="lemma">elements_sort</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Containers.MapAVL.html#is_bst"><span class="id" title="projection">is_bst</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="seq"><span class="id" title="definition">seq</span></a> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>) := <a class="idref" href="Containers.MapList.html#map_eq"><span class="id" title="definition">MapList.map_eq</span></a> (<a class="idref" href="Containers.MapAVL.html#selements"><span class="id" title="definition">selements</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="Containers.MapAVL.html#selements"><span class="id" title="definition">selements</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="slt"><span class="id" title="definition">slt</span></a> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>) := <a class="idref" href="Containers.MapList.html#map_lt"><span class="id" title="definition">MapList.map_lt</span></a> (<a class="idref" href="Containers.MapAVL.html#selements"><span class="id" title="definition">selements</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="Containers.MapAVL.html#selements"><span class="id" title="definition">selements</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="eq_seq"><span class="id" title="lemma">eq_seq</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>, <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#seq"><span class="id" title="definition">seq</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a>, <a class="idref" href="Containers.MapAVL.html#seq"><span class="id" title="definition">seq</span></a>, <a class="idref" href="Containers.MapAVL.html#selements"><span class="id" title="definition">selements</span></a>, <a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#equiv"><span class="id" title="definition">Equivalence.equiv</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapList.html#map_eq"><span class="id" title="definition">MapList.map_eq</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lt_slt"><span class="id" title="lemma">lt_slt</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>, <a class="idref" href="Containers.MapAVL.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#slt"><span class="id" title="definition">slt</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#lt"><span class="id" title="definition">lt</span></a>, <a class="idref" href="Containers.MapAVL.html#slt"><span class="id" title="definition">slt</span></a>, <a class="idref" href="Containers.MapAVL.html#selements"><span class="id" title="definition">selements</span></a>, <a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.OrderedType.html#lt_StrictOrder"><span class="id" title="definition">lt_StrictOrder</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapList.html#map_lt"><span class="id" title="definition">MapList.map_lt</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="eq_refl"><span class="id" title="lemma">eq_refl</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>, <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#eq_seq"><span class="id" title="lemma">eq_seq</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#seq"><span class="id" title="definition">seq</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="eq_sym"><span class="id" title="lemma">eq_sym</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>, <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="Containers.MapAVL.html#eq_seq"><span class="id" title="lemma">eq_seq</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#seq"><span class="id" title="definition">seq</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="eq_trans"><span class="id" title="lemma">eq_trans</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>, <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="Containers.MapAVL.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m3"><span class="id" title="variable">m3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">M3</span>; <span class="id" title="tactic">rewrite</span> 3 <a class="idref" href="Containers.MapAVL.html#eq_seq"><span class="id" title="lemma">eq_seq</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#seq"><span class="id" title="definition">seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.RelationClasses.html#transitivity"><span class="id" title="definition">transitivity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lt_trans"><span class="id" title="lemma">lt_trans</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>, <a class="idref" href="Containers.MapAVL.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="Containers.MapAVL.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Containers.MapAVL.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m3"><span class="id" title="variable">m3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span>; <span class="id" title="tactic">rewrite</span> 3 <a class="idref" href="Containers.MapAVL.html#lt_slt"><span class="id" title="lemma">lt_slt</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#slt"><span class="id" title="definition">slt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.RelationClasses.html#transitivity"><span class="id" title="definition">transitivity</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lt_not_eq"><span class="id" title="lemma">lt_not_eq</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>, <a class="idref" href="Containers.MapAVL.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="Containers.MapAVL.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Containers.MapAVL.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#lt_slt"><span class="id" title="lemma">lt_slt</span></a>, <a class="idref" href="Containers.MapAVL.html#eq_seq"><span class="id" title="lemma">eq_seq</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#slt"><span class="id" title="definition">slt</span></a>, <a class="idref" href="Containers.MapAVL.html#seq"><span class="id" title="definition">seq</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapList.html#map_lt_StrictOrder"><span class="id" title="instance">MapList.map_lt_StrictOrder</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">StrictOrder_Irreflexive</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Property</span> <a name="is_compare"><span class="id" title="lemma">is_compare</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span> <span class="id" title="var">s'</span> : <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#compare_spec"><span class="id" title="inductive">compare_spec</span></a> <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="Containers.MapAVL.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.MapAVL.html#s'"><span class="id" title="variable">s'</span></a> (<a class="idref" href="Containers.MapAVL.html#compare_pure"><span class="id" title="definition">compare_pure</span></a> <a class="idref" href="Containers.MapAVL.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Containers.MapAVL.html#s'"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">s</span>,<span class="id" title="var">b</span>) (<span class="id" title="var">s'</span>,<span class="id" title="var">b'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="Containers.MapAVL.html#compare_Cmp"><span class="id" title="lemma">compare_Cmp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Containers.MapAVL.html#compare_pure"><span class="id" title="definition">compare_pure</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="maps_to_maps_to"><span class="id" title="lemma">maps_to_maps_to</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span>, <a class="idref" href="Containers.MapList.html#MapsTo"><span class="id" title="definition">MapList.MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key_OT"><span class="id" title="variable">key_OT</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="Containers.MapAVL.html#selements"><span class="id" title="definition">selements</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span>, <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="Containers.OrderedType.html#KeyOrderedType.eqke"><span class="id" title="definition">KeyOrderedType.eqke</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.MapAVL.html#elements"><span class="id" title="definition">elements</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#elements_1"><span class="id" title="lemma">elements_1</span></a>; <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#elements_2"><span class="id" title="lemma">elements_2</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R'</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span>, <a class="idref" href="Containers.MapList.html#MapsTo"><span class="id" title="definition">MapList.MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key"><span class="id" title="variable">key</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.key_OT"><span class="id" title="variable">key_OT</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="Containers.MapAVL.html#selements"><span class="id" title="definition">selements</span></a> <span class="id" title="var">m</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="Containers.OrderedType.html#KeyOrderedType.eqke"><span class="id" title="definition">KeyOrderedType.eqke</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="Containers.MapList.html#elements"><span class="id" title="definition">MapList.elements</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Containers.MapAVL.html#selements"><span class="id" title="definition">selements</span></a> <span class="id" title="var">m</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapList.html#elements_1"><span class="id" title="lemma">MapList.elements_1</span></a>; <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapList.html#elements_2"><span class="id" title="lemma">MapList.elements_2</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">R</span>, <span class="id" title="var">R'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">R</span> <span class="id" title="var">R'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="map_eq_iff"><span class="id" title="lemma">map_eq_iff</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>, <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.MapInterface.html#Equal_kw"><span class="id" title="definition">MapInterface.Equal_kw</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">m</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Containers.MapAVL.html#m'"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#eq_seq"><span class="id" title="lemma">eq_seq</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapAVL.html#seq"><span class="id" title="definition">seq</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapList.html#map_eq_iff"><span class="id" title="lemma">MapList.map_eq_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Containers.MapInterface.html#Equal_kw"><span class="id" title="definition">Equal_kw</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">v'</span> [<span class="id" title="var">Hv'</span> <span class="id" title="var">Hmap</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> (<span class="id" title="var">H</span> <span class="id" title="var">k</span> <span class="id" title="var">v'</span>)); [<span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#maps_to_maps_to"><span class="id" title="lemma">maps_to_maps_to</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>. <span class="id" title="tactic">transitivity</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#maps_to_maps_to"><span class="id" title="lemma">maps_to_maps_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> (<span class="id" title="var">H</span> <span class="id" title="var">k</span> <span class="id" title="var">v'</span>)); [<span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#maps_to_maps_to"><span class="id" title="lemma">maps_to_maps_to</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>. <span class="id" title="tactic">transitivity</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#maps_to_maps_to"><span class="id" title="lemma">maps_to_maps_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">v'</span> [<span class="id" title="var">Hv'</span> <span class="id" title="var">Hmap</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> (<span class="id" title="var">H</span> <span class="id" title="var">k</span> <span class="id" title="var">v'</span>)); [<span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#maps_to_maps_to"><span class="id" title="lemma">maps_to_maps_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmap</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>. <span class="id" title="tactic">transitivity</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#maps_to_maps_to"><span class="id" title="lemma">maps_to_maps_to</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> (<span class="id" title="var">H</span> <span class="id" title="var">k</span> <span class="id" title="var">v'</span>)); [<span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#maps_to_maps_to"><span class="id" title="lemma">maps_to_maps_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmap</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>. <span class="id" title="tactic">transitivity</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#maps_to_maps_to"><span class="id" title="lemma">maps_to_maps_to</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="map_Equivalence"><span class="id" title="instance">map_Equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.RelationClasses.html#Equivalence_Reflexive"><span class="id" title="method">Equivalence_Reflexive</span></a> := <a class="idref" href="Containers.MapAVL.html#eq_refl"><span class="id" title="lemma">eq_refl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.RelationClasses.html#Equivalence_Symmetric"><span class="id" title="method">Equivalence_Symmetric</span></a> := <a class="idref" href="Containers.MapAVL.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.RelationClasses.html#Equivalence_Transitive"><span class="id" title="method">Equivalence_Transitive</span></a> := <a class="idref" href="Containers.MapAVL.html#eq_trans"><span class="id" title="lemma">eq_trans</span></a><br/>
&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="map_StrictOrder"><span class="id" title="instance">map_StrictOrder</span></a> : <a class="idref" href="Containers.OrderedType.html#StrictOrder"><span class="id" title="class">OrderedType.StrictOrder</span></a> <a class="idref" href="Containers.MapAVL.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#StrictOrder_Transitive"><span class="id" title="method">StrictOrder_Transitive</span></a> := <a class="idref" href="Containers.MapAVL.html#lt_trans"><span class="id" title="lemma">lt_trans</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#StrictOrder_Irreflexive"><span class="id" title="method">StrictOrder_Irreflexive</span></a> := <a class="idref" href="Containers.MapAVL.html#lt_not_eq"><span class="id" title="lemma">lt_not_eq</span></a><br/>
&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="map_OrderedType"><span class="id" title="instance">map_OrderedType</span></a> : <a class="idref" href="Containers.OrderedType.html#OrderedType"><span class="id" title="class">OrderedType</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#_eq"><span class="id" title="method">_eq</span></a> := <a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#_lt"><span class="id" title="method">_lt</span></a> := <a class="idref" href="Containers.MapAVL.html#lt"><span class="id" title="definition">lt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#_cmp"><span class="id" title="method">_cmp</span></a> := <a class="idref" href="Containers.MapAVL.html#compare_pure"><span class="id" title="definition">compare_pure</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#OT_Equivalence"><span class="id" title="method">OT_Equivalence</span></a> := <a class="idref" href="Containers.MapAVL.html#map_Equivalence"><span class="id" title="instance">map_Equivalence</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#OT_StrictOrder"><span class="id" title="method">OT_StrictOrder</span></a> := <a class="idref" href="Containers.MapAVL.html#map_StrictOrder"><span class="id" title="instance">map_StrictOrder</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#_compare_spec"><span class="id" title="method">_compare_spec</span></a> := <a class="idref" href="Containers.MapAVL.html#is_compare"><span class="id" title="lemma">is_compare</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Instance</span> <a name="map_SpecificOrderedType"><span class="id" title="instance">map_SpecificOrderedType</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Containers.OrderedType.html#SpecificOrderedType"><span class="id" title="class">SpecificOrderedType</span></a> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.t"><span class="id" title="variable">t</span></a> (<a class="idref" href="Containers.MapInterface.html#Equal_kw"><span class="id" title="definition">MapInterface.Equal_kw</span></a> (<span class="id" title="var">elt</span>:=<a class="idref" href="Containers.MapAVL.html#EncapsulationOrd.elt"><span class="id" title="variable">elt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">m</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Containers.MapAVL.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Classes.Equivalence.html#19766200eef106fd337d8f9453224f75"><span class="id" title="notation">===</span></a> <a class="idref" href="Containers.MapAVL.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Containers.MapAVL.html#MapsTo"><span class="id" title="definition">MapsTo</span></a> <a class="idref" href="Containers.MapAVL.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Containers.MapAVL.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="Containers.MapAVL.html#m"><span class="id" title="variable">m</span></a>)) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#SOT_Equivalence"><span class="id" title="method">SOT_Equivalence</span></a> := <a class="idref" href="Containers.MapInterface.html#Equal_kw_Equivalence"><span class="id" title="definition">MapInterface.Equal_kw_Equivalence</span></a> <span class="id" title="var">_</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#SOT_lt"><span class="id" title="method">SOT_lt</span></a> := <a class="idref" href="Containers.MapAVL.html#lt"><span class="id" title="definition">lt</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Containers.OrderedType.html#SOT_cmp"><span class="id" title="method">SOT_cmp</span></a> := <a class="idref" href="Containers.MapAVL.html#compare_pure"><span class="id" title="definition">compare_pure</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#map_StrictOrder"><span class="id" title="instance">map_StrictOrder</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">StrictOrder_Transitive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">refine</span> (<span class="id" title="var">StrictOrder_Irreflexive</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Containers.MapAVL.html#eq"><span class="id" title="definition">eq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="Containers.MapAVL.html#map_eq_iff"><span class="id" title="lemma">map_eq_iff</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Containers.MapAVL.html#is_compare"><span class="id" title="lemma">is_compare</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Containers.MapAVL.html#map_eq_iff"><span class="id" title="lemma">map_eq_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Containers.MapAVL.html#EncapsulationOrd"><span class="id" title="section">EncapsulationOrd</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="indexpage.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>