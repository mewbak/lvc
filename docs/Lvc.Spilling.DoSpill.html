<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Intro Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./search-toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Lvc.Spilling.DoSpill</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="Lvc.Constr.Map.html#"><span class="id" title="library">Map</span></a> <a class="idref" href="Lvc.IL.Envs.html#"><span class="id" title="library">Envs</span></a> <a class="idref" href="Lvc.Infra.AllInRel.html#"><span class="id" title="library">AllInRel</span></a> <a class="idref" href="Lvc.IL.Exp.html#"><span class="id" title="library">Exp</span></a> <a class="idref" href="Lvc.IL.AppExpFree.html#"><span class="id" title="library">AppExpFree</span></a> <a class="idref" href="Lvc.Infra.Filter.html#"><span class="id" title="library">Filter</span></a> <a class="idref" href="Lvc.Infra.LengthEq.html#"><span class="id" title="library">LengthEq</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Lvc.IL.IL.html#"><span class="id" title="library">IL</span></a> <a class="idref" href="Lvc.IL.Annotation.html#"><span class="id" title="library">Annotation</span></a> <a class="idref" href="Lvc.Infra.AutoIndTac.html#"><span class="id" title="library">AutoIndTac</span></a> <a class="idref" href="Lvc.Liveness.Liveness.html#"><span class="id" title="library">Liveness.Liveness</span></a> <a class="idref" href="Lvc.IL.LabelsDefined.html#"><span class="id" title="library">LabelsDefined</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Lvc.Spilling.SpillSound.html#"><span class="id" title="library">SpillSound</span></a> <a class="idref" href="Lvc.Spilling.SpillUtil.html#"><span class="id" title="library">SpillUtil</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Lvc.Spilling.Slot.html#"><span class="id" title="library">Slot</span></a> <a class="idref" href="Lvc.Spilling.SlotLiftParams.html#"><span class="id" title="library">SlotLiftParams</span></a> <a class="idref" href="Lvc.Spilling.SlotLiftArgs.html#"><span class="id" title="library">SlotLiftArgs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="write_moves"><span class="id" title="definition">write_moves</span></a> (<span class="id" title="var">Z</span> <span class="id" title="var">Z'</span> : <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>) : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#Z"><span class="id" title="variable">Z</span></a>, <a class="idref" href="Lvc.Spilling.DoSpill.html#Z'"><span class="id" title="variable">Z'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">Z</span>, <span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">Z'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.IL.IL.html#stmtLet"><span class="id" title="constructor">stmtLet</span></a> <span class="id" title="var">x</span> (<a class="idref" href="Lvc.IL.Exp.html#Operation"><span class="id" title="constructor">Operation</span></a> (<a class="idref" href="Lvc.Isa.Ops.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">x'</span>)) (<a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Z"><span class="id" title="variable">Z</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Z'"><span class="id" title="variable">Z'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="do_spill_rec"><span class="id" title="definition">do_spill_rec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">slot</span> : <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sl</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZL</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RML</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">do_spill'</span> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">s'</span> : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sl'</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZL</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RML</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a>,<a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Lvc.IL.IL.html#stmtLet"><span class="id" title="constructor">stmtLet</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">s</span>, <a class="idref" href="Lvc.IL.Annotation.html#ann1"><span class="id" title="constructor">ann1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">sl1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="Lvc.IL.IL.html#stmtLet"><span class="id" title="constructor">stmtLet</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill'"><span class="id" title="variable">do_spill'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="var">sl1</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Lvc.IL.IL.html#stmtIf"><span class="id" title="constructor">stmtIf</span></a> <span class="id" title="var">e</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>, <a class="idref" href="Lvc.IL.Annotation.html#ann2"><span class="id" title="constructor">ann2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">sl1</span> <span class="id" title="var">sl2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="Lvc.IL.IL.html#stmtIf"><span class="id" title="constructor">stmtIf</span></a> <span class="id" title="var">e</span> (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill'"><span class="id" title="variable">do_spill'</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">sl1</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a>) (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill'"><span class="id" title="variable">do_spill'</span></a> <span class="id" title="var">s2</span> <span class="id" title="var">sl2</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Lvc.IL.IL.html#stmtFun"><span class="id" title="constructor">stmtFun</span></a> <span class="id" title="var">F</span> <span class="id" title="var">t</span>, <a class="idref" href="Lvc.IL.Annotation.html#annF"><span class="id" title="constructor">annF</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">rms</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">sl_F</span> <span class="id" title="var">sl_t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">RML'</span> := <span class="id" title="var">rms</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ZL'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <span class="id" title="var">F</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.IL.IL.html#stmtFun"><span class="id" title="constructor">stmtFun</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">⊜</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">(</span></a><a class="idref" href="Lvc.Spilling.SlotLiftParams.html#slot_lift_params"><span class="id" title="definition">slot_lift_params</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">⊜</span></a> <span class="id" title="var">rms</span> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <span class="id" title="var">F</span><a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">((</span></a><span class="id" title="keyword">fun</span> (<span class="id" title="var">Zs</span> : <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>) (<span class="id" title="var">sl_s</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill'"><span class="id" title="variable">do_spill'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Zs"><span class="id" title="variable">Zs</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#sl_s"><span class="id" title="variable">sl_s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL'"><span class="id" title="variable">ZL'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML'"><span class="id" title="variable">RML'</span></a><a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">)</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">⊜</span></a> <span class="id" title="var">F</span> <span class="id" title="var">sl_F</span><a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;we&nbsp;can't&nbsp;write&nbsp;"(do_spill'&nbsp;⊜&nbsp;(snd&nbsp;⊝&nbsp;F)&nbsp;sl_F)"&nbsp;because&nbsp;termination&nbsp;wouldn't&nbsp;be&nbsp;obvious&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill'"><span class="id" title="variable">do_spill'</span></a> <span class="id" title="var">t</span> <span class="id" title="var">sl_t</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL'"><span class="id" title="variable">ZL'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML'"><span class="id" title="variable">RML'</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Lvc.IL.IL.html#stmtApp"><span class="id" title="constructor">stmtApp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">Y</span>, <a class="idref" href="Lvc.IL.Annotation.html#ann0"><span class="id" title="constructor">ann0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><span class="id" title="var">RMapp</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="Lvc.IL.IL.html#stmtApp"><span class="id" title="constructor">stmtApp</span></a> <span class="id" title="var">f</span> (<a class="idref" href="Lvc.Spilling.SlotLiftArgs.html#slot_lift_args"><span class="id" title="definition">slot_lift_args</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">f</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#79d04ec46ffc54173e9a6815345dcb06"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#79d04ec46ffc54173e9a6815345dcb06"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <span class="id" title="var">RMapp</span> <span class="id" title="var">Y</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">f</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="do_spill"><span class="id" title="definition">do_spill</span></a> (<span class="id" title="var">slot</span> : <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>) (<span class="id" title="var">sl</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZL</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>) (<span class="id" title="var">RML</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>)) {<span class="id" title="keyword">struct</span> <span class="id" title="var">s</span>}<br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> <span class="id" title="var">sp</span> := <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#elements"><span class="id" title="method">elements</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#52995db6fb0b9c34f62f8ef8278e70ac"><span class="id" title="notation">getSp</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ld</span> := <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#elements"><span class="id" title="method">elements</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#edc0c5761ad0e5b99ab7c50f64bd76d9"><span class="id" title="notation">getL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sp"><span class="id" title="variable">sp</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#sp"><span class="id" title="variable">sp</span></a> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ld"><span class="id" title="variable">ld</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ld"><span class="id" title="variable">ld</span></a>) (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_rec"><span class="id" title="definition">do_spill_rec</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_rec_s"><span class="id" title="lemma">do_spill_rec_s</span></a> (<span class="id" title="var">slot</span> : <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>) (<span class="id" title="var">Sp'</span> <span class="id" title="var">L'</span>: <a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦃</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦄</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>) (<span class="id" title="var">sl</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_rec"><span class="id" title="definition">do_spill_rec</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_rec"><span class="id" title="definition">do_spill_rec</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="Lvc.IL.Annotation.html#setTopAnn"><span class="id" title="definition">setTopAnn</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Lvc.Spilling.DoSpill.html#Sp'"><span class="id" title="variable">Sp'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Lvc.Spilling.DoSpill.html#L'"><span class="id" title="variable">L'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="Lvc.IL.Annotation.html#getAnn"><span class="id" title="definition">getAnn</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>, <span class="id" title="var">sl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_rec"><span class="id" title="definition">do_spill_rec</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_empty"><span class="id" title="lemma">do_spill_empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">slot</span> : <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sl</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZL</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RML</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.Spilling.SpillUtil.html#count"><span class="id" title="definition">count</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_rec"><span class="id" title="definition">do_spill_rec</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">count_zero</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Lvc.Spilling.SpillUtil.html#count_zero_Empty_Sp"><span class="id" title="lemma">count_zero_Empty_Sp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">count_zero</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Empty_Sp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Lvc.Spilling.SpillUtil.html#count_zero_Empty_L"><span class="id" title="lemma">count_zero_Empty_L</span></a>  <span class="id" title="tactic">in</span> <span class="id" title="var">count_zero</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Empty_L</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetProperties.html#elements_Empty"><span class="id" title="lemma">elements_Empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Empty_Sp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetProperties.html#elements_Empty"><span class="id" title="lemma">elements_Empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Empty_L</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Empty_Sp</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Empty_L</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_empty_Sp"><span class="id" title="lemma">do_spill_empty_Sp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">slot</span> : <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sl</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZL</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RML</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#cardinal"><span class="id" title="method">cardinal</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#52995db6fb0b9c34f62f8ef8278e70ac"><span class="id" title="notation">getSp</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#elements"><span class="id" title="method">elements</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#edc0c5761ad0e5b99ab7c50f64bd76d9"><span class="id" title="notation">getL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>)) (<a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#elements"><span class="id" title="method">elements</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#edc0c5761ad0e5b99ab7c50f64bd76d9"><span class="id" title="notation">getL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_rec"><span class="id" title="definition">do_spill_rec</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">card_zero</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetProperties.html#cardinal_Empty"><span class="id" title="lemma">cardinal_Empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">card_zero</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetProperties.html#elements_Empty"><span class="id" title="lemma">elements_Empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">card_zero</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">card_zero</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_extract_writes"><span class="id" title="lemma">do_spill_extract_writes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">slot</span> : <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sl</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZL</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RML</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#elements"><span class="id" title="method">elements</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#52995db6fb0b9c34f62f8ef8278e70ac"><span class="id" title="notation">getSp</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>)) (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#elements"><span class="id" title="method">elements</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#52995db6fb0b9c34f62f8ef8278e70ac"><span class="id" title="notation">getSp</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#elements"><span class="id" title="method">elements</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#edc0c5761ad0e5b99ab7c50f64bd76d9"><span class="id" title="notation">getL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>)) (<a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#elements"><span class="id" title="method">elements</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#edc0c5761ad0e5b99ab7c50f64bd76d9"><span class="id" title="notation">getL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="Lvc.IL.Annotation.html#setTopAnn"><span class="id" title="definition">setTopAnn</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#79d04ec46ffc54173e9a6815345dcb06"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#79d04ec46ffc54173e9a6815345dcb06"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="Lvc.IL.Annotation.html#getAnn"><span class="id" title="definition">getAnn</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_empty"><span class="id" title="lemma">do_spill_empty</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_rec_s"><span class="id" title="lemma">do_spill_rec_s</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Sp'</span>:=<a class="idref" href="Lvc.Constr.CSetNotation.html#79d04ec46ffc54173e9a6815345dcb06"><span class="id" title="notation">∅</span></a>) (<span class="id" title="var">L'</span>:=<a class="idref" href="Lvc.Constr.CSetNotation.html#79d04ec46ffc54173e9a6815345dcb06"><span class="id" title="notation">∅</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.IL.Annotation.html#setTopAnn_setTopAnn"><span class="id" title="lemma">setTopAnn_setTopAnn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>,<span class="id" title="var">sl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Lvc.Spilling.SpillUtil.html#count"><span class="id" title="definition">count</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.IL.Annotation.html#getAnn_setTopAnn"><span class="id" title="lemma">getAnn_setTopAnn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_extract_spill_writes"><span class="id" title="lemma">do_spill_extract_spill_writes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">slot</span> : <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sl</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZL</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RML</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">(</span></a><a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#elements"><span class="id" title="method">elements</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#52995db6fb0b9c34f62f8ef8278e70ac"><span class="id" title="notation">getSp</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>)<a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">)</span></a>) (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#elements"><span class="id" title="method">elements</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#52995db6fb0b9c34f62f8ef8278e70ac"><span class="id" title="notation">getSp</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="Lvc.Spilling.SpillUtil.html#clear_Sp"><span class="id" title="definition">clear_Sp</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Lvc.Spilling.SpillUtil.html#clear_Sp"><span class="id" title="definition">clear_Sp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_empty_Sp"><span class="id" title="lemma">do_spill_empty_Sp</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_rec_s"><span class="id" title="lemma">do_spill_rec_s</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Sp'</span>:=<a class="idref" href="Lvc.Constr.CSetNotation.html#79d04ec46ffc54173e9a6815345dcb06"><span class="id" title="notation">∅</span></a>) (<span class="id" title="var">L'</span>:=<a class="idref" href="Lvc.Spilling.SpillUtil.html#edc0c5761ad0e5b99ab7c50f64bd76d9"><span class="id" title="notation">getL</span></a> <span class="id" title="var">sl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.IL.Annotation.html#setTopAnn_setTopAnn"><span class="id" title="lemma">setTopAnn_setTopAnn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>,<span class="id" title="var">sl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.IL.Annotation.html#getAnn_setTopAnn"><span class="id" title="lemma">getAnn_setTopAnn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_sub_empty_invariant"><span class="id" title="lemma">do_spill_sub_empty_invariant</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">slot</span> : <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Sp'</span> <span class="id" title="var">L'</span>: <a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦃</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦄</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sl</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZL</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RML</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#set"><span class="id" title="method">set</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.Spilling.SpillUtil.html#count"><span class="id" title="definition">count</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Sp'"><span class="id" title="variable">Sp'</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#2499d7a52e1fca683823149ce53018f0"><span class="id" title="notation">[=]</span></a> <a class="idref" href="Lvc.Constr.CSetNotation.html#79d04ec46ffc54173e9a6815345dcb06"><span class="id" title="notation">∅</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#L'"><span class="id" title="variable">L'</span></a> <a class="idref" href="https://sigurdschneider.github.com/lvc/doc-cont/Containers.SetInterface.html#2499d7a52e1fca683823149ce53018f0"><span class="id" title="notation">[=]</span></a> <a class="idref" href="Lvc.Constr.CSetNotation.html#79d04ec46ffc54173e9a6815345dcb06"><span class="id" title="notation">∅</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a>  <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="Lvc.IL.Annotation.html#setTopAnn"><span class="id" title="definition">setTopAnn</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Lvc.Spilling.DoSpill.html#Sp'"><span class="id" title="variable">Sp'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Lvc.Spilling.DoSpill.html#L'"><span class="id" title="variable">L'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="Lvc.IL.Annotation.html#getAnn"><span class="id" title="definition">getAnn</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl"><span class="id" title="variable">sl</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">count_zero</span> <span class="id" title="var">Sp_empty</span> <span class="id" title="var">L_empty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_empty"><span class="id" title="lemma">do_spill_empty</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_empty"><span class="id" title="lemma">do_spill_empty</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">swap</span> 1 2.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Lvc.Spilling.SpillUtil.html#count"><span class="id" title="definition">count</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.IL.Annotation.html#getAnn_setTopAnn"><span class="id" title="lemma">getAnn_setTopAnn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Sp_empty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">L_empty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>, <span class="id" title="var">sl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="write_moves_app_expfree"><span class="id" title="lemma">write_moves_app_expfree</span></a> <span class="id" title="var">xl</span> <span class="id" title="var">xl'</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#xl"><span class="id" title="variable">xl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#xl'"><span class="id" title="variable">xl'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">AEF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">xl</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">xl'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_app_expfree"><span class="id" title="lemma">do_spill_app_expfree</span></a> (<span class="id" title="var">slot</span>:<a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>) <span class="id" title="var">s</span> <span class="id" title="var">spl</span> <span class="id" title="var">ZL</span> <span class="id" title="var">RML</span><br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#spl"><span class="id" title="variable">spl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RML"><span class="id" title="variable">RML</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">AEF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">AEF</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">spl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">let_pair_case_eq</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a>, <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_app_expfree"><span class="id" title="lemma">write_moves_app_expfree</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_app_expfree"><span class="id" title="lemma">write_moves_app_expfree</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">cases</span>; <span class="id" title="var">clear_trivial_eqs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a>, <a class="idref" href="Lvc.Spilling.SlotLiftArgs.html#slot_lift_args_app_expfree"><span class="id" title="lemma">slot_lift_args_app_expfree</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_app_expfree"><span class="id" title="lemma">write_moves_app_expfree</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">cases</span>; <span class="id" title="var">clear_trivial_eqs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a>, <a class="idref" href="Lvc.Spilling.SlotLiftArgs.html#slot_lift_args_app_expfree"><span class="id" title="lemma">slot_lift_args_app_expfree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv_get</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_app_expfree"><span class="id" title="lemma">write_moves_app_expfree</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">cases</span>; <span class="id" title="var">clear_trivial_eqs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a>, <a class="idref" href="Lvc.Spilling.SlotLiftArgs.html#slot_lift_args_app_expfree"><span class="id" title="lemma">slot_lift_args_app_expfree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv_get</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv_get</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="write_moves_labels_defined"><span class="id" title="lemma">write_moves_labels_defined</span></a> <span class="id" title="var">xl</span> <span class="id" title="var">xl'</span> <span class="id" title="var">s</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.LabelsDefined.html#labelsDefined"><span class="id" title="inductive">labelsDefined</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#n"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.LabelsDefined.html#labelsDefined"><span class="id" title="inductive">labelsDefined</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#xl"><span class="id" title="variable">xl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#xl'"><span class="id" title="variable">xl'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#n"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">AEF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">xl</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">xl'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#labelsDefined"><span class="id" title="inductive">labelsDefined</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="write_moves_paramsMatch"><span class="id" title="lemma">write_moves_paramsMatch</span></a> <span class="id" title="var">xl</span> <span class="id" title="var">xl'</span> <span class="id" title="var">s</span> <span class="id" title="var">L</span><br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.LabelsDefined.html#paramsMatch"><span class="id" title="inductive">paramsMatch</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#L"><span class="id" title="variable">L</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.LabelsDefined.html#paramsMatch"><span class="id" title="inductive">paramsMatch</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#xl"><span class="id" title="variable">xl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#xl'"><span class="id" title="variable">xl'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#L"><span class="id" title="variable">L</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">AEF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">xl</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">xl'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#paramsMatch"><span class="id" title="inductive">paramsMatch</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_labels_defined"><span class="id" title="lemma">do_spill_labels_defined</span></a> (<span class="id" title="var">slot</span>:<a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>) <span class="id" title="var">k</span> <span class="id" title="var">RM</span> <span class="id" title="var">ZL</span> <span class="id" title="var">Λ</span> <span class="id" title="var">spl</span> <span class="id" title="var">s</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.LabelsDefined.html#labelsDefined"><span class="id" title="inductive">labelsDefined</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#n"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Spilling.SpillSound.html#spill_sound"><span class="id" title="inductive">spill_sound</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RM"><span class="id" title="variable">RM</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#spl"><span class="id" title="variable">spl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.LabelsDefined.html#labelsDefined"><span class="id" title="inductive">labelsDefined</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#spl"><span class="id" title="variable">spl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#n"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="var">invt</span> <a class="idref" href="Lvc.Spilling.SpillSound.html#spill_sound"><span class="id" title="inductive">spill_sound</span></a>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">cases</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">clear_trivial_eqs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> 20 <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#labelsDefined"><span class="id" title="inductive">labelsDefined</span></a>, <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_labels_defined"><span class="id" title="lemma">write_moves_labels_defined</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_labels_defined"><span class="id" title="lemma">write_moves_labels_defined</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv_get</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">len_simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#labelsDefined"><span class="id" title="inductive">labelsDefined</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exploit</span> <span class="id" title="var">H16</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H9</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H9</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="zip_map_fst_f"><span class="id" title="lemma">zip_map_fst_f</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> (<span class="id" title="var">L</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#X"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">L'</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Y"><span class="id" title="variable">Y</span></a>) <span class="id" title="var">Z</span> (<span class="id" title="var">f</span>:<a class="idref" href="Lvc.Spilling.DoSpill.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Z"><span class="id" title="variable">Z</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#L'"><span class="id" title="variable">L'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#zip"><span class="id" title="definition">zip</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Lvc.Spilling.DoSpill.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#L'"><span class="id" title="variable">L'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#L"><span class="id" title="variable">L</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">length_equify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ZL_NoDupA_ext"><span class="id" title="lemma">ZL_NoDupA_ext</span></a> <span class="id" title="var">ZL</span> <span class="id" title="var">F</span> <span class="id" title="var">ans</span> <span class="id" title="var">D</span> <span class="id" title="var">Dt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Len</span>: <a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❬</span></a><a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a><a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❭</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❬</span></a><a class="idref" href="Lvc.Spilling.DoSpill.html#ans"><span class="id" title="variable">ans</span></a><a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❭</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">IFC</span>:<a class="idref" href="Lvc.Infra.Indexwise.html#indexwise_R"><span class="id" title="definition">Indexwise.indexwise_R</span></a> (<a class="idref" href="Lvc.Alpha.RenamedApart.html#funConstr"><span class="id" title="definition">RenamedApart.funConstr</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Dt"><span class="id" title="variable">Dt</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ans"><span class="id" title="variable">ans</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span>:<span class="id" title="keyword">∀</span> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">Z</span> : <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>), <a class="idref" href="Lvc.Infra.Get.html#get"><span class="id" title="inductive">get</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Z"><span class="id" title="variable">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Z"><span class="id" title="variable">Z</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<span class="id" title="var">n0</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">Z</span> : <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a>), <a class="idref" href="Lvc.Infra.Get.html#get"><span class="id" title="inductive">get</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#n0"><span class="id" title="variable">n0</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Z"><span class="id" title="variable">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Z"><span class="id" title="variable">Z</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Lvc.Infra.Get.html#get_app_cases"><span class="id" title="lemma">get_app_cases</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="var">dcr</span>; <span class="id" title="var">inv_get</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">IFC</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_paramsMatch"><span class="id" title="lemma">do_spill_paramsMatch</span></a> (<span class="id" title="var">slot</span>:<a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>) <span class="id" title="var">k</span> <span class="id" title="var">RM</span> <span class="id" title="var">ZL</span> <span class="id" title="var">Λ</span> <span class="id" title="var">spl</span> <span class="id" title="var">s</span> <span class="id" title="var">ra</span><br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.LabelsDefined.html#paramsMatch"><span class="id" title="inductive">paramsMatch</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">_</span> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Spilling.SpillSound.html#spill_sound"><span class="id" title="inductive">spill_sound</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RM"><span class="id" title="variable">RM</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#spl"><span class="id" title="variable">spl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Alpha.RenamedApart.html#renamedApart"><span class="id" title="inductive">RenamedApart.renamedApart</span></a>  <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ra"><span class="id" title="variable">ra</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">Z</span>, <a class="idref" href="Lvc.Infra.Get.html#get"><span class="id" title="inductive">get</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Z"><span class="id" title="variable">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Z"><span class="id" title="variable">Z</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.LabelsDefined.html#paramsMatch"><span class="id" title="inductive">paramsMatch</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#spl"><span class="id" title="variable">spl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">_</span> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">(</span></a><a class="idref" href="Lvc.Spilling.SlotLiftParams.html#slot_lift_params"><span class="id" title="definition">slot_lift_params</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a><a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">)</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">⊜</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">PM</span> <span class="id" title="var">SPS</span> <span class="id" title="var">RA</span> <span class="id" title="var">NDUP</span> <span class="id" title="var">AEF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">PM</span>; <span class="id" title="var">invt</span> <a class="idref" href="Lvc.Spilling.SpillSound.html#spill_sound"><span class="id" title="inductive">spill_sound</span></a>; <span class="id" title="var">invt</span> <a class="idref" href="Lvc.Alpha.RenamedApart.html#renamedApart"><span class="id" title="inductive">RenamedApart.renamedApart</span></a>; <span class="id" title="var">invtc</span> <a class="idref" href="Lvc.IL.AppExpFree.html#app_expfree"><span class="id" title="inductive">app_expfree</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">cases</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">clear_trivial_eqs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> 20 <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#paramsMatch"><span class="id" title="inductive">paramsMatch</span></a>, <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_paramsMatch"><span class="id" title="lemma">write_moves_paramsMatch</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_paramsMatch"><span class="id" title="lemma">write_moves_paramsMatch</span></a>. <span class="id" title="var">inv_get</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> !<a class="idref" href="Lvc.Infra.Get.html#get_nth"><span class="id" title="lemma">get_nth</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.Infra.MoreList.html#zip_get"><span class="id" title="lemma">zip_get</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Lvc.Infra.Get.html#map_get_eq"><span class="id" title="lemma">map_get_eq</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.Infra.MoreList.html#zip_get"><span class="id" title="lemma">zip_get</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Lvc.Isa.Ops.html#op_eval_var"><span class="id" title="lemma">op_eval_var</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? ?]; <span class="id" title="tactic">subst</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Spilling.SlotLiftParams.html#slot_lift_params_length"><span class="id" title="lemma">slot_lift_params_length</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Spilling.SlotLiftArgs.html#slot_lift_args_length"><span class="id" title="lemma">slot_lift_args_length</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_paramsMatch"><span class="id" title="lemma">write_moves_paramsMatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv_get</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">len_simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#paramsMatch"><span class="id" title="inductive">paramsMatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">List.map_app</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL_NoDupA_ext"><span class="id" title="lemma">ZL_NoDupA_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">eqassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="Lvc.Infra.MoreList.html#map_zip"><span class="id" title="lemma">map_zip</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Lvc.Infra.MoreList.html#zip_app"><span class="id" title="lemma">zip_app</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#zip_map_fst_f"><span class="id" title="lemma">zip_map_fst_f</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Infra.MoreList.html#map_zip"><span class="id" title="lemma">map_zip</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exploit</span> <span class="id" title="var">IHPM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">List.map_app</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL_NoDupA_ext"><span class="id" title="lemma">ZL_NoDupA_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">eqassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="Lvc.Infra.MoreList.html#map_zip"><span class="id" title="lemma">map_zip</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Lvc.Infra.MoreList.html#zip_app"><span class="id" title="lemma">zip_app</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#zip_map_fst_f"><span class="id" title="lemma">zip_map_fst_f</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Lvc.Infra.MoreList.html#map_zip"><span class="id" title="lemma">map_zip</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="write_moves_no_unreachable_code"><span class="id" title="lemma">write_moves_no_unreachable_code</span></a> <span class="id" title="var">b</span> <span class="id" title="var">xl</span> <span class="id" title="var">xl'</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.LabelsDefined.html#noUnreachableCode"><span class="id" title="inductive">noUnreachableCode</span></a> (<a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.LabelsDefined.html#noUnreachableCode"><span class="id" title="inductive">noUnreachableCode</span></a> (<a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a>) (<a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#xl"><span class="id" title="variable">xl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#xl'"><span class="id" title="variable">xl'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">AEF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">xl</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">xl'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#noUnreachableCode"><span class="id" title="inductive">noUnreachableCode</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="write_moves_isCalled"><span class="id" title="lemma">write_moves_isCalled</span></a> <span class="id" title="var">b</span> <span class="id" title="var">xl</span> <span class="id" title="var">xl'</span> <span class="id" title="var">s</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#f"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves"><span class="id" title="definition">write_moves</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#xl"><span class="id" title="variable">xl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#xl'"><span class="id" title="variable">xl'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#f"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">AEF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">xl</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">xl'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_callChain"><span class="id" title="lemma">do_spill_callChain</span></a> <span class="id" title="var">b</span> (<span class="id" title="var">slot</span>: <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>) <span class="id" title="var">k</span> <span class="id" title="var">ZL</span> <span class="id" title="var">Λ</span> <span class="id" title="var">F</span> <span class="id" title="var">sl_F</span> <span class="id" title="var">rms</span> <span class="id" title="var">f</span> <span class="id" title="var">l'</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">IH</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">Zs</span>, <a class="idref" href="Lvc.Infra.Get.html#get"><span class="id" title="inductive">get</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Zs"><span class="id" title="variable">Zs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">ZL</span> : <a class="idref" href="Lvc.Infra.Util.html#34e05122694267bfd7c916e510bea4a5"><span class="id" title="notation">〔</span></a><a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a><a class="idref" href="Lvc.Infra.Util.html#34e05122694267bfd7c916e510bea4a5"><span class="id" title="notation">〕</span></a>) (<span class="id" title="var">Λ</span> : <a class="idref" href="Lvc.Infra.Util.html#34e05122694267bfd7c916e510bea4a5"><span class="id" title="notation">〔</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦃</span></a><a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦃</span></a><a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦄</span></a><a class="idref" href="Lvc.Infra.Util.html#34e05122694267bfd7c916e510bea4a5"><span class="id" title="notation">〕</span></a>) (<span class="id" title="var">RM</span> : <a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦃</span></a><a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦃</span></a><a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦄</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sl_t</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="Lvc.IL.Var.html#lab"><span class="id" title="inductive">lab</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Spilling.SpillSound.html#spill_sound"><span class="id" title="inductive">spill_sound</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RM"><span class="id" title="variable">RM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Zs"><span class="id" title="variable">Zs</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#sl_t"><span class="id" title="variable">sl_t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Zs"><span class="id" title="variable">Zs</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#f"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Zs"><span class="id" title="variable">Zs</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#sl_t"><span class="id" title="variable">sl_t</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#f"><span class="id" title="variable">f</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">Len1</span>: <a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❬</span></a><a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a><a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❭</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❬</span></a><a class="idref" href="Lvc.Spilling.DoSpill.html#sl_F"><span class="id" title="variable">sl_F</span></a><a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❭</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">Len2</span>: <a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❬</span></a><a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a><a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❭</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❬</span></a><a class="idref" href="Lvc.Spilling.DoSpill.html#rms"><span class="id" title="variable">rms</span></a><a class="idref" href="Lvc.Infra.Util.html#5ba4ae6fbd1172842049cc41b9ef4720"><span class="id" title="notation">❭</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">SPS</span>: <span class="id" title="keyword">∀</span> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">Zs</span> : <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>) (<span class="id" title="var">rm</span> : <a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦃</span></a><a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦃</span></a><a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a><a class="idref" href="Lvc.Constr.CSetNotation.html#6a7b5161c2b7e36a03f4397275fb5e9b"><span class="id" title="notation">⦄</span></a>) (<span class="id" title="var">sl_s</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Infra.Get.html#get"><span class="id" title="inductive">get</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#rms"><span class="id" title="variable">rms</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#rm"><span class="id" title="variable">rm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Infra.Get.html#get"><span class="id" title="inductive">get</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Zs"><span class="id" title="variable">Zs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Infra.Get.html#get"><span class="id" title="inductive">get</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl_F"><span class="id" title="variable">sl_F</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl_s"><span class="id" title="variable">sl_s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Spilling.SpillSound.html#spill_sound"><span class="id" title="inductive">spill_sound</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#k"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a>) (<a class="idref" href="Lvc.Spilling.DoSpill.html#rms"><span class="id" title="variable">rms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#rm"><span class="id" title="variable">rm</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Zs"><span class="id" title="variable">Zs</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#sl_s"><span class="id" title="variable">sl_s</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">CC</span>: <a class="idref" href="Lvc.IL.LabelsDefined.html#callChain"><span class="id" title="inductive">callChain</span></a> (<a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#f"><span class="id" title="variable">f</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.LabelsDefined.html#callChain"><span class="id" title="inductive">callChain</span></a> (<a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">⊜</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">(</span></a><a class="idref" href="Lvc.Spilling.SlotLiftParams.html#slot_lift_params"><span class="id" title="definition">slot_lift_params</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">⊜</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#rms"><span class="id" title="variable">rms</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a><a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">((</span></a><span class="id" title="keyword">fun</span> (<span class="id" title="var">Zs</span> : <a class="idref" href="Lvc.IL.IL.html#b872ba67352f3a3faba8ccdd100d3cd2"><span class="id" title="notation">params</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Lvc.IL.IL.html#stmt"><span class="id" title="inductive">stmt</span></a>) (<span class="id" title="var">sl_s</span> : <a class="idref" href="Lvc.Spilling.SpillUtil.html#d1ea2a7415116500919265f359cdb033"><span class="id" title="notation">spilling</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#Zs"><span class="id" title="variable">Zs</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#sl_s"><span class="id" title="variable">sl_s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Lvc.Infra.Util.html#58b35b0f064ad66ad5cafd838aa323b4"><span class="id" title="notation">⊝</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a>) (<a class="idref" href="Lvc.Spilling.DoSpill.html#rms"><span class="id" title="variable">rms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>)<a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">)</span></a> <a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">⊜</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Lvc.Spilling.DoSpill.html#sl_F"><span class="id" title="variable">sl_F</span></a><a class="idref" href="Lvc.Infra.MoreList.html#f562695cc8cf75c08906cd0c03c53a29"><span class="id" title="notation">)</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#f"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">CC</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">inv_get</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.Infra.MoreList.html#zip_get_eq"><span class="id" title="lemma">zip_get_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_isCalled"><span class="id" title="lemma">do_spill_isCalled</span></a> <span class="id" title="var">b</span> (<span class="id" title="var">slot</span>: <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>) <span class="id" title="var">k</span> <span class="id" title="var">ZL</span> <span class="id" title="var">Λ</span> <span class="id" title="var">RM</span> <span class="id" title="var">t</span> <span class="id" title="var">sl_t</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">SPS</span> : <a class="idref" href="Lvc.Spilling.SpillSound.html#spill_sound"><span class="id" title="inductive">spill_sound</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RM"><span class="id" title="variable">RM</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl_t"><span class="id" title="variable">sl_t</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">IC</span> : <a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#f"><span class="id" title="variable">f</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#sl_t"><span class="id" title="variable">sl_t</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#f"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">t</span> <span class="id" title="keyword">before</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert_until</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sind</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">invt</span> <a class="idref" href="Lvc.Spilling.SpillSound.html#spill_sound"><span class="id" title="inductive">spill_sound</span></a>; <span class="id" title="var">invt</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_isCalled"><span class="id" title="lemma">write_moves_isCalled</span></a>, <a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_isCalled"><span class="id" title="lemma">write_moves_isCalled</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len_simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_callChain"><span class="id" title="lemma">do_spill_callChain</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="do_spill_no_unreachable_code"><span class="id" title="lemma">do_spill_no_unreachable_code</span></a> <span class="id" title="var">b</span> (<span class="id" title="var">slot</span>:<a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.Var.html#a8af51c5c54b0cdb656661aee5be6c5c"><span class="id" title="notation">var</span></a>) <span class="id" title="var">k</span> <span class="id" title="var">RM</span> <span class="id" title="var">ZL</span> <span class="id" title="var">Λ</span> <span class="id" title="var">spl</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;: <a class="idref" href="Lvc.IL.LabelsDefined.html#noUnreachableCode"><span class="id" title="inductive">noUnreachableCode</span></a> (<a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.Spilling.SpillSound.html#spill_sound"><span class="id" title="inductive">spill_sound</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#RM"><span class="id" title="variable">RM</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#spl"><span class="id" title="variable">spl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Lvc.IL.LabelsDefined.html#noUnreachableCode"><span class="id" title="inductive">noUnreachableCode</span></a> (<a class="idref" href="Lvc.IL.LabelsDefined.html#isCalled"><span class="id" title="inductive">isCalled</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#b"><span class="id" title="variable">b</span></a>) (<a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill"><span class="id" title="definition">do_spill</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#slot"><span class="id" title="variable">slot</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#spl"><span class="id" title="variable">spl</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#ZL"><span class="id" title="variable">ZL</span></a> <a class="idref" href="Lvc.Spilling.DoSpill.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">general</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="var">invt</span> <a class="idref" href="Lvc.Spilling.SpillSound.html#spill_sound"><span class="id" title="inductive">spill_sound</span></a>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clear_trivial_eqs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> 20 <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#noUnreachableCode"><span class="id" title="inductive">noUnreachableCode</span></a>, <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_no_unreachable_code"><span class="id" title="lemma">write_moves_no_unreachable_code</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> 20 <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#noUnreachableCode"><span class="id" title="inductive">noUnreachableCode</span></a>, <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_no_unreachable_code"><span class="id" title="lemma">write_moves_no_unreachable_code</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> 20 <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#noUnreachableCode"><span class="id" title="inductive">noUnreachableCode</span></a>, <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_no_unreachable_code"><span class="id" title="lemma">write_moves_no_unreachable_code</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> 20 <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#noUnreachableCode"><span class="id" title="inductive">noUnreachableCode</span></a>, <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_no_unreachable_code"><span class="id" title="lemma">write_moves_no_unreachable_code</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#write_moves_no_unreachable_code"><span class="id" title="lemma">write_moves_no_unreachable_code</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv_get</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.IL.LabelsDefined.html#noUnreachableCode"><span class="id" title="inductive">noUnreachableCode</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">len_simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>; <span class="id" title="var">dcr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_isCalled"><span class="id" title="lemma">do_spill_isCalled</span></a>, <a class="idref" href="Lvc.Spilling.DoSpill.html#do_spill_callChain"><span class="id" title="lemma">do_spill_callChain</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
